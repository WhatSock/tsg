!function(){!function(t){!function(t){if(t.fn.drag=function(e,a,n){var r="string"==typeof e?e:"",i=t.isFunction(e)?e:t.isFunction(a)?a:null;return 0!==r.indexOf("drag")&&(r="drag"+r),n=(e==i?a:n)||{},i?this.bind(r,n,i):this.trigger(r)},!t.event.fixHooks){var e=function(){var t=jQuery.fn.load,e=jQuery.event.add,a=jQuery.event.fix;jQuery.event.props=[],jQuery.event.fixHooks={},jQuery.event.fix=function(t){var e,n=t.type,r=this.fixHooks[n],i=jQuery.event.props;if(i.length)for(;i.length;)jQuery.event.addProp(i.pop());if(r&&!r._migrated_&&(r._migrated_=!0,(i=r.props)&&i.length))for(;i.length;)jQuery.event.addProp(i.pop());return e=a.call(this,t),r&&r.filter?r.filter(e,t):e},jQuery.event.add=function(t,a){return t===window&&"load"===a&&"complete"===window.document.readyState,e.apply(this,arguments)},jQuery.each(["load","unload","error"],function(e,a){jQuery.fn[a]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===a&&"string"==typeof e[0]?t.apply(this,e):(e.splice(0,0,a),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),jQuery(function(){jQuery(window.document).triggerHandler("ready")}),jQuery.event.special.ready={setup:function(){this===window.document}},jQuery.fn.extend({bind:function(t,e,a){return this.on(t,null,e,a)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,a,n){return this.on(e,t,a,n)},undelegate:function(t,e,a){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",a)}})};e()}var a=t.event,n=a.special,r=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var a=t.data(this,r.datakey),n=e.data||{};a.related+=1,t.each(r.defaults,function(t){void 0!==n[t]&&(a[t]=n[t])})},remove:function(){t.data(this,r.datakey).related-=1},setup:function(){if(!t.data(this,r.datakey)){var e=t.extend({related:0},r.defaults);t.data(this,r.datakey,e),a.add(this,"touchstart mousedown",r.init,e),this.attachEvent&&this.attachEvent("ondragstart",r.dontstart)}},teardown:function(){var e=t.data(this,r.datakey)||{};e.related||(t.removeData(this,r.datakey),a.remove(this,"touchstart mousedown",r.init),r.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",r.dontstart))},init:function(e){if(!r.touched){var i,o=e.data;if(!(0!=e.which&&o.which>0&&e.which!=o.which||t(e.target).is(o.not)||o.handle&&!t(e.target).closest(o.handle,e.currentTarget).length||(r.touched="touchstart"==e.type?this:null,o.propagates=1,o.mousedown=this,o.interactions=[r.interaction(this,o)],o.target=e.target,o.pageX=e.pageX,o.pageY=e.pageY,o.dragging=null,i=r.hijack(e,"draginit",o),!o.propagates)))return i=r.flatten(i),i&&i.length&&(o.interactions=[],t.each(i,function(){o.interactions.push(r.interaction(this,o))})),o.propagates=o.interactions.length,o.drop!==!1&&n.drop&&n.drop.handler(e,o),r.textselect(!1),r.touched?a.add(r.touched,"touchmove touchend",r.handler,o):a.add(document,"mousemove mouseup",r.handler,o),!r.touched||o.live?!1:void 0}},interaction:function(t,e){var a=$A.xOffset(t),n=$A.css(t,"position");return"fixed"==n?a.top=t.offsetTop:(e.relative||"relative"==n)&&(a=$A.xOffset(t,null,!0)),{drag:t,callback:new r.callback,droppable:[],offset:a}},handler:function(e){var i=e.data;switch(e.type){case!i.dragging&&"touchmove":e.preventDefault();case!i.dragging&&"mousemove":if(Math.pow(e.pageX-i.pageX,2)+Math.pow(e.pageY-i.pageY,2)<Math.pow(i.distance,2))break;e.target=i.target,r.hijack(e,"dragstart",i),i.propagates&&(i.dragging=!0);case"touchmove":e.preventDefault();case"mousemove":if(i.dragging){if(r.hijack(e,"drag",i),i.propagates){i.drop!==!1&&n.drop&&n.drop.handler(e,i);break}e.type="mouseup"}case"touchend":case"mouseup":default:r.touched?a.remove(r.touched,"touchmove touchend",r.handler):a.remove(document,"mousemove mouseup",r.handler),i.dragging&&(i.drop!==!1&&n.drop&&n.drop.handler(e,i),r.hijack(e,"dragend",i)),r.textselect(!0),i.click===!1&&i.dragging&&t.data(i.mousedown,"suppress.click",(new Date).getTime()+5),i.dragging=r.touched=!1}},hijack:function(e,n,i,o,d){if(i){var s,c,l,p={event:e.originalEvent,type:e.type},f=n.indexOf("drop")?"drag":"drop",g=o||0,u=isNaN(o)?i.interactions.length:o;e.type=n,i.results=[];do if(c=i.interactions[g]){if("dragend"!==n&&c.cancelled)continue;l=r.properties(e,i,c),c.results=[],t(d||c[f]||i.droppable).each(function(o,d){return l.target=d,e.isPropagationStopped=function(){return!1},s=d?a.dispatch.call(d,e,l):null,s===!1?("drag"==f&&(c.cancelled=!0,i.propagates-=1),"drop"==n&&(c[f][o]=null)):"dropinit"==n&&c.droppable.push(r.element(s)||d),"dragstart"==n&&(c.proxy=t(r.element(s)||c.drag)[0]),c.results.push(s),delete e.result,"dropinit"!==n?s:void 0}),i.results[g]=r.flatten(c.results),"dropinit"==n&&(c.droppable=r.flatten(c.droppable)),"dragstart"!=n||c.cancelled||l.update()}while(++g<u);return e.type=p.type,e.originalEvent=p.event,r.flatten(i.results)}},properties:function(t,e,a){var n=a.callback;return n.drag=a.drag,n.proxy=a.proxy||a.drag,n.startX=e.pageX,n.startY=e.pageY,n.deltaX=t.pageX-e.pageX,n.deltaY=t.pageY-e.pageY,n.originalX=a.offset.left,n.originalY=a.offset.top,n.offsetX=n.originalX+n.deltaX,n.offsetY=n.originalY+n.deltaY,n.drop=r.flatten((a.drop||[]).slice()),n.available=r.flatten((a.droppable||[]).slice()),n},element:function(t){return t&&(t.jquery||1==t.nodeType)?t:void 0},flatten:function(e){return t.map(e,function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?r.flatten(e):e})},textselect:function(e){t(document)[e?"unbind":"bind"]("selectstart",r.dontstart),$A.css(document,"MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};r.callback.prototype={update:function(){n.drop&&this.available.length&&t.each(this.available,function(t){n.drop.locate(this,t)})}};var i=a.dispatch;a.dispatch=function(e){return t.data(this,"suppress."+e.type)-(new Date).getTime()>0?(t.removeData(this,"suppress."+e.type),void 0):i.apply(this,arguments)};{var o=a.fixHooks.touchstart=a.fixHooks.touchmove=a.fixHooks.touchend=a.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(e,a){if(a){var n=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0]||null;n&&t.each(o.props,function(t,a){e[a]=n[a]})}return e}};a.fixHooks.mousedown=a.fixHooks.mousemove=a.fixHooks.mouseup={props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var a,n,r,i=e.button,o=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||document,r=n.documentElement,a=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?e.toElement:o),t.which||void 0===i||(t.which=1&i?1:2&i?3:4&i?2:0),t}}}n.draginit=n.dragstart=n.dragend=r}(t),function(t){var e=t.event,a=e.special.drag,n=a.add,r=a.teardown;a.noBubble=!1,a.livekey="livedrag",a.add=function(r){n.apply(this,arguments);var i=t.data(this,a.datakey);!i.live&&r.selector&&(i.live=!0,e.add(this,"draginit."+a.livekey,a.delegate))},a.teardown=function(){r.apply(this,arguments);var n=t.data(this,a.datakey)||{};n.live&&(e.remove(this,"draginit."+a.livekey,a.delegate),n.live=!1)},a.delegate=function(n){var r,i=[],o=t.data(this,"events")||{};return t.each(o||[],function(o,d){0===o.indexOf("drag")&&t.each(d||[],function(o,d){r=t(n.target).closest(d.selector,n.currentTarget)[0],r&&(e.add(r,d.origType+"."+a.livekey,d.origHandler||d.handler,d.data),t.inArray(r,i)<0&&i.push(r))})}),i.length?t(i).bind("dragend."+a.livekey,function(){e.remove(this,"."+a.livekey)}):!1}}(t),function(t){t.fn.drop=function(e,a,n){var r="string"==typeof e?e:"",i=t.isFunction(e)?e:t.isFunction(a)?a:null;return 0!==r.indexOf("drop")&&(r="drop"+r),n=(e==i?a:n)||{},i?this.bind(r,n,i):this.trigger(r)},t.drop=function(e){e=e||{},n.multi=e.multi===!0?1/0:e.multi===!1?1:isNaN(e.multi)?n.multi:e.multi,n.delay=e.delay||n.delay,n.tolerance=t.isFunction(e.tolerance)?e.tolerance:null===e.tolerance?null:n.tolerance,n.mode=e.mode||n.mode||"intersect"};var e=t.event,a=e.special,n=t.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(){var e=t.data(this,n.datakey);e.related+=1},remove:function(){t.data(this,n.datakey).related-=1},setup:function(){if(!t.data(this,n.datakey)){var e={related:0,active:[],anyactive:0,winner:0,location:{}};t.data(this,n.datakey,e),n.targets.push(this)}},teardown:function(){var e=t.data(this,n.datakey)||{};if(!e.related){t.removeData(this,n.datakey);var a=this;n.targets=t.grep(n.targets,function(t){return t!==a})}},handler:function(e,r){var i;if(r)switch(e.type){case"mousedown":case"touchstart":i=t(n.targets),"string"==typeof r.drop&&(i=i.filter(r.drop)),i.each(function(){var e=t.data(this,n.datakey);e.active=[],e.anyactive=0,e.winner=0}),r.droppable=i,a.drag.hijack(e,"dropinit",r);break;case"mousemove":case"touchmove":n.event=e,n.timer||n.tolerate(r);break;case"mouseup":case"touchend":n.timer=clearTimeout(n.timer),r.propagates&&(a.drag.hijack(e,"drop",r),a.drag.hijack(e,"dropend",r))}},locate:function(e,a){var r=t.data(e,n.datakey),i=(t(e),$A.xOffset(e)),o=$A.xHeight(e),d=$A.xWidth(e),s=$A.css(e,"position");"fixed"==s?i.top=e.offsetTop:"relative"==s&&(i=$A.xOffset(e,null,!0));var c={elem:e,width:d,height:o,top:i.top,left:i.left,right:i.left+d,bottom:i.top+o};return r&&(r.location=c,r.index=a,r.elem=e),c},contains:function(t,e){return(e[0]||e.left)>=t.left&&(e[0]||e.right)<=t.right&&(e[1]||e.top)>=t.top&&(e[1]||e.bottom)<=t.bottom},modes:{intersect:function(t,e,a){return this.contains(a,[t.pageX,t.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(t,e,a){return Math.max(0,Math.min(a.bottom,e.bottom)-Math.max(a.top,e.top))*Math.max(0,Math.min(a.right,e.right)-Math.max(a.left,e.left))},fit:function(t,e,a){return this.contains(a,e)?1:0},middle:function(t,e,a){return this.contains(a,[e.left+.5*e.width,e.top+.5*e.height])?1:0}},sort:function(t,e){return e.winner-t.winner||t.index-e.index},tolerate:function(e){var r,i,o,d,s,c,l,p,f=0,g=e.interactions.length,u=[n.event.pageX,n.event.pageY],h=n.tolerance||n.modes[n.mode];do if(p=e.interactions[f]){if(!p)return;p.drop=[],s=[],c=p.droppable.length,h&&(o=n.locate(p.proxy)),r=0;do if(l=p.droppable[r]){if(d=t.data(l,n.datakey),i=d.location,!i)continue;d.winner=h?h.call(n,n.event,o,i):n.contains(i,u)?1:0,s.push(d)}while(++r<c);s.sort(n.sort),r=0;do(d=s[r])&&(d.winner&&p.drop.length<n.multi?(d.active[f]||d.anyactive||(a.drag.hijack(n.event,"dropstart",e,f,d.elem)[0]!==!1?(d.active[f]=1,d.anyactive+=1):d.winner=0),d.winner&&p.drop.push(d.elem)):d.active[f]&&1==d.anyactive&&(a.drag.hijack(n.event,"dropend",e,f,d.elem),d.active[f]=0,d.anyactive-=1));while(++r<c)}while(++f<g);n.last&&u[0]==n.last.pageX&&u[1]==n.last.pageY?delete n.timer:n.timer=setTimeout(function(){n.tolerate(e)},n.delay),n.last=n.event}};a.dropinit=a.dropstart=a.dropend=n}(t),function(t){var e=t.event,a=e.special.drop,n=a.add,r=a.teardown;a.noBubble=!1,a.livekey="livedrop",a.add=function(r){n.apply(this,arguments);var i=t.data(this,a.datakey);!i.live&&r.selector&&(i.live=!0,e.add(this,"dropinit."+a.livekey,a.delegate))},a.teardown=function(){r.apply(this,arguments);var n=t.data(this,a.datakey)||{};n.live&&(e.remove(this,"dropinit",a.delegate),n.live=!1)},a.delegate=function(n,r){var i,o=[],d=t.data(this,"events")||{};return t.each(d||[],function(r,d){0===r.indexOf("drop")&&t.each(d,function(r,d){i=t(n.currentTarget).find(d.selector),i.length&&i.each(function(){e.add(this,d.origType+"."+a.livekey,d.origHandler||d.handler,d.data),t.inArray(this,o)<0&&o.push(this)})})}),r&&e.add(r.drag,"dragend."+a.livekey,function(){t.each(o.concat(this),function(){e.remove(this,"."+a.livekey)})}),o.length?t(o):!1}}(t)}($A.internal),$A.setDragAndDrop=function(t){var e="tmp"+$A.genId(),a=t.ddCSS||{},n=t.cssObj||{},r=(t.on||{},t.root||document);$A.query(t.setDrag,r,function(r,i){$A.morph(i,{id:e+r,role:t.setName(i),showHiddenBounds:!1,showHiddenClose:!1,original:i,isDraggable:!0,drag:{confineTo:t.confineTo},accDD:{on:!0,dragText:t.dragText||"Drag",dropText:t.dropText||"Drop",actionText:t.actionText||"Dragging",dragLinkStyle:a,dropLinkStyle:a,dragClassName:t.dragClassName||"",dropClassName:t.dropClassName||"",dropAnchor:t.dropAnchor||"",duration:t.duration||1e3},onDragStart:t.on.dragStart,onDrag:t.on.drag,onDropStart:t.on.dropStart,onDrop:t.on.drop,onDropEnd:t.on.dropEnd,onDragEnd:t.on.dragEnd,dropTarget:t.setDrop,cssObj:n,displayInline:t.displayInline||!1,runBefore:function(e){t.runBefore&&t.runBefore.apply(e,[e])},runAfter:function(e){t.runAfter&&t.runAfter.apply(e,[e])}})})},$A.setDragAndDrop.setDrag=function(t,e,a){var t=e[t.indexVal];if(!t.loading&&!t.loaded||t.fn.isDragSet)return t;t.fn.isDragSet=!0;var n={},r={};return t.drag.handle&&(n.handle=a(t.drag.handle).get(0)),"relative"==$A.css(t.accDCObj,"position")&&(n.relative=!0),t.drag.minDistance&&t.drag.minDistance>0&&(n.distance=t.drag.minDistance),t.drag.confineToN=null,a(t.accDCObj).drag("init",function(e,a){t.fn.isDragging=!0;var n=$A.css(this,"position"),i=$A.xOffset(this);if("fixed"==n?i.top=this.offsetTop:"relative"==n&&(i=$A.xOffset(this,null,!0)),i.right="",i.bottom="",$A.css(this,i),"string"==typeof t.drag.confineTo?t.drag.confineToN=$A.query(t.drag.confineTo)[0]:t.drag.confineTo&&t.drag.confineTo.nodeName&&(t.drag.confineToN=t.drag.confineTo),t.drag.confineToN&&t.drag.confineToN.nodeName){r.nFixed=!1;var o=$A.css(t.drag.confineToN,"position"),d=$A.xOffset(t.drag.confineToN);"relative"==n&&this.offsetParent==t.drag.confineToN?d=a.limit={top:0,left:0}:"fixed"==n&&"fixed"==o?(d.top=t.drag.confineToN.offsetTop,r.nFixed=!0,a.limit=d):a.limit=d,a.limit.bottom=a.limit.top+$A.xHeight(t.drag.confineToN),a.limit.right=a.limit.left+$A.xWidth(t.drag.confineToN)}$A.setAttr(t.accDCObj,"aria-grabbed","true"),t.drag.init&&"function"==typeof t.drag.init&&t.drag.init.apply(this,[e,a,t])}).drag("start",function(e,a){t.onDragStart.apply(this,[e,a,t])}).drag(function(e,a){if(r.y!=a.offsetY||r.x!=a.offsetX){{$A.css(this,"position")}if(t.drag.override&&"function"==typeof t.drag.override)t.drag.override.apply(this,[e,a,t]);else if(t.drag.confineToN&&t.drag.confineToN.nodeName){var n={top:a.offsetY,left:a.offsetX},i=$A.xHeight(this),o=$A.xWidth(this);n.top<a.limit.top&&(n.top=a.limit.top),n.top+i>a.limit.bottom&&(n.top=a.limit.bottom),n.left<a.limit.left&&(n.left=a.limit.left),n.left+o>a.limit.right&&(n.left=a.limit.right),n.top>=a.limit.top&&n.top+i<=a.limit.bottom&&$A.xTop(this,n.top),n.left>=a.limit.left&&n.left+o<=a.limit.right&&$A.xLeft(this,n.left)}else"number"==typeof t.drag.maxX||"number"==typeof t.drag.maxY?("number"==typeof t.drag.maxX&&(a.originalX<a.offsetX&&a.offsetX-a.originalX<=t.drag.maxX||a.originalX>a.offsetX&&a.originalX-a.offsetX<=t.drag.maxX)&&$A.xLeft(this,a.offsetX),"number"==typeof t.drag.maxY&&(a.originalY<a.offsetY&&a.offsetY-a.originalY<=t.drag.maxY||a.originalY>a.offsetY&&a.originalY-a.offsetY<=t.drag.maxY)&&$A.xTop(this,a.offsetY)):($A.xTop(this,a.offsetY),$A.xLeft(this,a.offsetX));t.onDrag.apply(this,[e,a,t]),r.y=a.offsetY,r.x=a.offsetX}}).drag("end",function(e,a){t.fn.isDragging=!1,t.drag.y=a.offsetY,t.drag.x=a.offsetX,$A.setAttr(t.accDCObj,"aria-grabbed","false"),t.onDragEnd.apply(this,[e,a,t])},n),t.dropTarget&&(a(t.dropTarget).drop("init",function(e,a){t.fn.isDragging&&t.dropInit&&"function"==typeof t.dropInit&&t.dropInit.apply(this,[e,a,t])}).drop("start",function(e,a){t.fn.isDragging&&t.onDropStart.apply(this,[e,a,t])}).drop(function(e,a){t.fn.isDragging&&t.onDrop.apply(this,[e,a,t])}).drop("end",function(e,a){t.fn.isDragging&&t.onDropEnd.apply(this,[e,a,t])}),a.drop(t.drop),t.accDD.on&&(t.accDD.dropTargets=[],t.accDD.dropAnchors=[],t.accDD.dropLinks=[],$A.query(t.dropTarget,function(e,a){t.accDD.dropAnchors[e]=a,t.accDD.dropTargets[e]=a,$A.setAttr(a,"aria-dropeffect",t.accDD.dropEffect),t.accDD.dropLinks[e]=$A.createEl("a",{href:"#"},t.sraCSS,t.accDD.dragClassName,$A.createText(t.accDD.dragText+" "+t.role+" "+t.accDD.toText+" "+$A.getAttr(a,"data-label"))),t.containerDiv.appendChild(t.accDD.dropLinks[e]),$A.bind(t.accDD.dropLinks[e],{focus:function(){$A.css($A.sraCSSClear(this),{position:"relative",zIndex:1e3},t.accDD.dragLinkStyle)},blur:function(){$A.css(this,t.sraCSS)},click:function(a){t.accDD.isDragging||(t.accDD.isDragging=!0,$A.css(this,t.sraCSS),$A.setAttr(t.accDCObj,"aria-grabbed","true"),$A.announce(t.accDD.actionText),t.accDD.fireDrag.apply(t.accDCObj,[a,t]),t.accDD.fireDrop.apply(t.accDD.dropTargets[e],[a,t])),a.preventDefault()}})}),$A.setAttr(t.accDCObj,"aria-grabbed","false"))),e[t.indexVal]=t},$A.setDragAndDrop.unsetDrag=function(t,e,a,n){var t=a[t.indexVal];return t.closing||t.loaded?($A.unbind(t.drag.handle?t.drag.handle:t.accDCObj,"draginit dragstart dragend drag"),$A.remAttr(t.accDCObj,"aria-grabbed"),t.dropTarget&&(e&&($A.unbind(t.dropTarget,"dropinit dropstart dropend drop"),$A.query(t.dropTarget,function(t,e){$A.remAttr(e,"aria-dropeffect")})),t.accDD.on&&n.each(t.accDD.dropLinks,function(t,e){e.parentNode&&e.parentNode.removeChild(e)})),t.fn.isDragSet=!1,a[t.indexVal]=t):t}}();