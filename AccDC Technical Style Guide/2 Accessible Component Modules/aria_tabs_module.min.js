/*
ARIA Tabs Module R1.14
Copyright 2010-2018 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
(function(){$A.setTabs=function(f,k,g,e,m){var h=[],i=[],l="",k=k||{},e=e||document,j=$A.query(f,e,function(p,r){if($A.reg[r.id]){var t=$A.reg[r.id];if(t.fn.sraCSSObj){t.fn.sraCSSObj.parentNode.removeChild(t.fn.sraCSSObj)}t.returnFocus=false;t.close();t.returnFocus=true}var s=r.id||$A.genId(),n={},q=$A.getAttr(r,"data-internal");n.id=s;n.role=$A.getAttr(r,"data-role")||"Tab";n.autoStart=$A.getAttr(r,"data-defaultopen")?true:false;if(n.autoStart){l=p}n.trigger=r;n.mode=typeof k.mode==="number"?k.mode:(k.preload?0:1);n.source=q?(function(){var o=$A.getEl(q);if(o){return o.parentNode.removeChild(o)}else{return $A.reg[r.id]&&$A.reg[r.id].source}})():(function(){var u=$A.createEl("div"),o=$A.getAttr(r,"data-src");o=o.replace("#"," #");if(k.preload){$A.load(u,o,function(){if(k.preloadImages){if(!$A.getEl(a)){document.body.appendChild($A.createEl("div",{id:a},$A.sraCSS))}k.imgLoader=$A.getEl(a);$A.query("img",u,function(v,w){if(w.src&&$A.query('img[src="'+w.src+'"]',k.imgLoader).length<1){k.imgLoader.appendChild($A.createEl("img",{src:w.src,alt:""}))}})}});return u}else{return o}})();n.isStatic="#"+$A.getAttr(r,"data-insert");n.showHiddenBounds=k.showHiddenBounds||false;n.showHiddenClose=k.showHiddenClose||false;n.bind="click";n.ariaLevel=$A.getAttr(r,"data-headinglvl")||k.ariaLevel||3;n.isTab=g?false:true;n.tabRole=g?"":(k.tabRole||"Tab");n.tabState=g?"":(k.tabState||"Selected");n.toggleClass=k.toggleClass||"active";n.allowCascade=true;n.runDuring=function(o){if(g){$A.setAttr(o.triggerObj,"aria-controls",o.accDCObjId);$A.setAttr(o.accDCObj,{role:"tabpanel",tabindex:k.disableTabPanelFocus?-1:"0","aria-labelledby":$A.getAttr(o.triggerObj,"id"),"aria-describedby":o.containerDivId})}};n.runAfter=function(o){$A.query(f,e,function(u,v){$A.remClass(v,o.toggleClass);if(g){$A.setAttr(v,{"aria-expanded":v==o.triggerObj?"true":"false","aria-selected":v==o.triggerObj?"true":"false"})}});$A.addClass(o.triggerObj,o.toggleClass);if(m&&typeof m==="function"){m.apply(o.triggerObj,[o])}};n.runAfterClose=function(o){$A.query(f,e,function(u,v){$A.remClass(v,o.toggleClass);if(g){$A.setAttr(v,{"aria-selected":"false","aria-expanded":"false"})}})};i.push(n);h.push(s)});if(g){b(j[0],h.join(" "));d(f,e,l)}else{c(f,e)}$A(i,k);return h};var d=function(i,f,e){var m=null,k=e||0,j=function(o){var n=$A.inArray(this,l);if(n!==-1){k=n}if(m){$A.setAttr(m,{tabindex:"-1"})}m=this;$A.setAttr(m,{tabindex:"0"});if(!o){m.focus()}},g=[],h=function(n){for(var o=k+1;o<=(l.length-1);o++){if(n.toLowerCase()==g[o].replace(/^\s+|\s+$/g,"").substring(0,1).toLowerCase()){k=o;j.apply(l[k]);return}}for(var o=0;o<k;o++){if(n.toLowerCase()==g[o].replace(/^\s+|\s+$/g,"").substring(0,1).toLowerCase()){k=o;j.apply(l[k]);return}}},l=$A.query(i,f,function(n){g.push($A.getText(this));$A.setAttr(this,{tabindex:"-1","aria-posinset":n+1,"aria-expanded":"false","aria-selected":"false","aria-label":$A.getText(this)});$A.unbind(this,"click keydown");$A.bind(this,{click:function(o){j.apply(this,[true]);o.preventDefault()},keydown:function(p){var o=p.which||p.keyCode;if(o>=35&&o<=40&&!p.altKey){if(o==37||o==38){k=k===0?l.length-1:k-1}else{if(o==39||o==40){k=k===l.length-1?0:k+1}else{if(o==35){k=l.length-1}else{if(o==36){k=0}}}}j.apply(l[k]);p.stopPropagation();p.preventDefault()}else{if((o==13||o==32)&&!p.altKey){$A.trigger(l[k],"click");p.stopPropagation();p.preventDefault()}else{if(((o>=48&&o<=57)||(o>=65&&o<=90))&&!p.altKey){h(String.fromCharCode(o));p.stopPropagation();p.preventDefault()}}}}})});$A.query(l,function(n,p){$A.setAttr(p,"aria-setsize",l.length)});if(l.length){m=l[0];$A.setAttr(m,"tabindex",0)}},c=function(e,f){$A.query(e,f,function(h,j){var g=j.nodeName.toLowerCase();if(g!="a"&&g!="button"){$A.setAttr(j,{role:"link",tabindex:"0"});$A.unbind(j,"keydown");$A.bind(j,"keydown",function(l){var i=l.which||l.keyCode;if(i==13){$A.trigger(j,"click");l.stopPropagation();l.preventDefault()}})}})},a="i"+$A.genId(),b=function(g,f){var e=0;while(g){g=g.parentNode;if(g&&e>0&&$A.getAttr(g,"role")=="tablist"){$A.setAttr(g,"aria-owns",f);return}e++}}})();