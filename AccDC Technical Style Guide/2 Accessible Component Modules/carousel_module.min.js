/*
Carousel From XML Module R2.8
Copyright 2010-2016 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
(function(){$A.setCarousel=function(o,p,i,z){var z=z||{},k=z.lNavCls||"lNav",m=z.rNavCls||"rNav",h=z.contentCls||"centerContent",j=z.btnTag||"button",l=z.btnCls||"navButton",u=z.btnSlideCls||"navSlideButton",v=z.btnGroupCls||"navGroupButton",f=z.groupNameCls||"groupName",n=z.ariaLevel||3,g=null,q={},y=o.id||"l"+$A.genId(),s={},x=$A.createEl("div"),r=z.handlers||{},w=loading=false,t=false;$A.load(x,p,function(U){g=b(U);var O="role height width className prevTitle nextTitle slideName groupName btnPText btnNText btnPGText btnNGText btnPAccesskey btnNAccesskey btnPGAccesskey btnNGAccesskey direction timer animDelay hiddenMsg".split(" "),L={},S=g.documentElement,F=S.attributes.getNamedItem("forward").value=="yes"?true:false,H=S.attributes.getNamedItem("cycle").value=="yes"?true:false,Q=S.attributes.getNamedItem("showGroup").value=="yes"?true:false,B=S.attributes.getNamedItem("groupPosTop").value=="yes"?true:false,G=S.attributes.getNamedItem("isGrouped").value=="yes"?true:false;for(var P=0;P<O.length;P++){L[O[P]]=S.attributes.getNamedItem(O[P]).value}q.length=0;$A.query("carousel > *",g,function(V,W){q.length+=1;if(!G){q[V]=W.childNodes[0].nodeValue;s[y+V]=W.attributes.getNamedItem("announce").value}else{q[V]={name:W.attributes.getNamedItem("name").value,length:0};$A.query("*",W,function(Y,X){q[V].length+=1;q[V][Y]=X.childNodes[0].nodeValue;s[y+V+Y]=X.attributes.getNamedItem("announce").value})}});var T=$A.createEl("div",null,null,k),R=$A.createEl("div",null,null,m),M=$A.createEl("div",null,null,h),D={};if(j=="a"){D.href="#"}if(j!="a"&&j!="button"){D.tabindex="0"}if(j!="button"){D.role="button"}var I=$A.createEl(j,D,null,l+" "+u),K=$A.createEl(j,D,null,l+" "+u),C=$A.createEl(j,D,null,l+" "+v),N=$A.createEl(j,D,null,l+" "+v),J=$A.createEl("div",null,{position:"relative"},"parentDivCls"),E=$A.createEl("div",null,{position:"relative",overflow:"hidden",width:"100%",height:"100%"});$A.setAttr(I,{accesskey:L.btnPAccesskey,"aria-label":a(L.prevTitle+" "+L.slideName),title:a(L.prevTitle+" "+L.slideName)});I.innerHTML=z.prevBtnInsertedTag||'<span aria-hidden="true">'+L.btnPText+"</span>";I.appendChild($A.createEl("span",null,$A.sraCSS,null,document.createTextNode(L.prevTitle+" "+L.slideName)));$A.setAttr(K,{accesskey:L.btnNAccesskey,"aria-label":a(L.nextTitle+" "+L.slideName),title:a(L.nextTitle+" "+L.slideName)});K.innerHTML=z.nextBtnInsertedTag||'<span aria-hidden="true">'+L.btnNText+"</span>";K.appendChild($A.createEl("span",null,$A.sraCSS,null,document.createTextNode(L.nextTitle+" "+L.slideName)));if(G){$A.setAttr(C,{accesskey:L.btnPGAccesskey,"aria-label":a(L.prevTitle+" "+L.groupName),title:a(L.prevTitle+" "+L.groupName)});C.innerHTML=z.prevGroupBtnInsertedTag||'<span aria-hidden="true">'+L.btnPGText+"</span>";C.appendChild($A.createEl("span",null,$A.sraCSS,null,document.createTextNode(L.prevTitle+" "+L.groupName)));$A.setAttr(N,{accesskey:L.btnNGAccesskey,"aria-label":a(L.nextTitle+" "+L.groupName),title:a(L.nextTitle+" "+L.groupName)});N.innerHTML=z.nextGroupBtnInsertedTag||'<span aria-hidden="true">'+L.btnNGText+"</span>";N.appendChild($A.createEl("span",null,$A.sraCSS,null,document.createTextNode(L.nextTitle+" "+L.groupName)))}var A=z.renderFn&&typeof z.renderFn==="function"?z.renderFn:function(ac,ad,W,Y,X,ab,ae,Z,V,aa){ac.appendChild(ad);ac.appendChild(W);W.appendChild(Y);ac.appendChild(X);ad.appendChild(ab);X.appendChild(ae);if(Z){ad.appendChild(V);X.appendChild(aa)}};A.apply(this,[J,T,M,E,R,I,K,G,C,N]);$A([{id:y,role:L.role,showHiddenBounds:true,ariaLevel:n,showHiddenClose:false,isStatic:o,autoStart:true,source:J,className:L.className,cssObj:{height:L.height,width:L.width},btn:{P:I,N:K,PG:C,NG:N},runOnceBefore:function(V){$A(V,[{id:y+"gn",role:"Group Name",showHiddenBounds:false,className:f,allowReopen:true,returnFocus:false,cssObj:{position:"absolute"},groupName:"",runBefore:function(W){W.source="<span>"+W.groupName+"</span>"}}]);V.gdc=$A.reg[y+"gn"];if(B){V.gdc.autoPosition=1}else{V.gdc.autoPosition=5}},runDuring:function(V){$A.setAttr(V.accDCObj,{role:"region","aria-label":V.role});if(V.showHiddenBounds){V.fn.sraStart.innerHTML=V.fn.sraEnd.innerHTML=""}},runAfter:function(X){if(!e){e=$A.createEl("div",null,X.sraCSS);document.body.appendChild(e)}X.dirFlag=0;X.gdc.targetObj=d(X.accDCObj);X.gdc.triggerObj=E;var Z=[],Y=$A.createEl("div");for(var aa in q){if(aa.toString()==="0"||aa>0){if(!G){if(!i){i="0"}Z.push({id:y+aa,slideVal:parseInt(aa),slideMax:q.length,autoStart:i.toString()===aa.toString()?true:false,source:q[aa]});Y.innerHTML=q[aa];$A.query("img",Y,function(ab,ac){e.appendChild($A.createEl("img",{src:ac.src,alt:""}))})}else{var W="";if(!i||typeof i!=="string"){W=[0,0]}else{W=i.split(",")}for(var V in q[aa]){if(V.toString()==="0"||V>0){Z.push({id:y+aa+V,slideVal:parseInt(V),slideMax:q[aa].length,groupVal:parseInt(aa),groupMax:q.length,autoStart:W[0].toString()===aa.toString()&&W[1].toString()===V.toString()?true:false,source:q[aa][V]});Y.innerHTML=q[aa][V];$A.query("img",Y,function(ab,ac){e.appendChild($A.createEl("img",{src:ac.src,alt:""}))})}}}}}if(L.direction!="lr"&&L.direction!="tb"){L.direction="lr"}$A(X,Z,{role:"slide",allowMultiple:true,showHiddenBounds:false,isStatic:E,append:true,cssObj:{position:"absolute"},runBefore:function(ab){ab.cssObj.height=E.clientHeight;ab.cssObj.width=E.clientWidth;if(ab.parent.firstLoaded){if(L.direction=="lr"){ab.cssObj.left=!ab.parent.dirFlag?(E.offsetLeft+E.clientLeft)-E.clientWidth:(E.offsetLeft+E.clientLeft)+E.clientWidth;ab.cssObj.top=E.offsetTop+E.clientTop}else{if(L.direction=="tb"){ab.cssObj.top=!ab.parent.dirFlag?(E.offsetTop+E.clientTop)-E.clientHeight:(E.offsetTop+E.clientTop)+E.clientHeight;ab.cssObj.left=E.offsetLeft+E.clientLeft}}}else{ab.cssObj.top=E.offsetTop+E.clientTop;ab.cssObj.left=E.offsetLeft+E.clientLeft}},runAfter:function(ab){if(G&&Q&&ab.parent.gdc.groupName!=q[ab.groupVal].name){ab.parent.gdc.groupName=q[ab.groupVal].name;ab.parent.gdc.open()}if(ab.parent.cur){ab.parent.old=ab.parent.cur}ab.parent.cur=ab;if(ab.parent.firstLoaded){var ac={left:E.offsetLeft+E.clientLeft,top:E.offsetTop+E.clientTop};if(L.direction=="lr"){ac.left=!ab.parent.dirFlag?ac.left+E.offsetWidth:ac.left-E.offsetWidth}else{if(L.direction=="tb"){ac.top=!ab.parent.dirFlag?ac.top+E.offsetHeight:ac.top-E.offsetHeight}}if(G&&Q&&(w||!L.timer)){$A.announce(ab.parent.gdc.groupName)}if(w||!L.timer){$A.announce(s[ab.id])}loading=true;$A.setAttr(ab.parent.old.accDCObj,"aria-hidden","true");$A.setAttr(ab.accDCObj,"aria-hidden","false");c(ab.accDCObj,ab.parent.old.accDCObj,{top:E.offsetTop+E.clientTop,left:E.offsetLeft+E.clientLeft},ac,{duration:parseInt(L.animDelay),complete:function(){if(ab&&ab.parent&&ab.accDCObj&&ab.parent.accDCObj){ab.parent.old.close();loading=false;if(r.complete&&typeof r.complete==="function"){r.complete.apply(ab,[ab])}ab.parent.setInc()}}})}else{ab.parent.firstLoaded=true;ab.parent.setInc();if(r.complete&&typeof r.complete==="function"){r.complete.apply(ab,[ab])}}}});$A.bind(window,"resize."+y,function(ab){X.cur.css({top:E.offsetTop+E.clientTop,left:E.offsetLeft+E.clientLeft})});X.pSlide=function(af,ah){if(loading){return}var ac=null;if(r.btnPrev&&typeof r.btnPrev==="function"&&X.accDCObj){ac=r.btnPrev.apply(this,[af,X])}if(typeof ac==="boolean"&&!ac){return false}var ag="";if(X){if(!G){if(X.cur.slideVal>0){ag=y+(X.cur.slideVal-1)}else{if(H){ag=y+(X.cur.slideMax-1)}else{return false}}}else{var ae=X.cur.groupVal,ad=X.cur.slideVal;if(ae<1&&ad<1&&!H){return false}else{if(ad<1){ae=ae>0?ae-1:X.cur.groupMax-1;ad=q[ae].length-1}else{ad-=1}}ag=y+ae+ad}}var ab=$A.reg[ag];X.dirFlag=0;if(ab&&ab.id){ab.open()}};X.enableAuto=function(ab){t=ab?false:true;X.isStopped=t;X.isPaused=w;if(r.stopStateChange&&typeof r.stopStateChange==="function"){r.stopStateChange.apply(X,[t||w||false,X])}};X.isStopped=function(){return t||w||false};X.setSlide=function(ad,ab){var ae=(!isNaN(ad)&&ad>=0),ac=(!isNaN(ab)&&ab>=0);if(ac&&ae){X.nGroup.apply(this,[null,ad,ab])}else{if(ae){X.nSlide.apply(this,[null,null,ad])}}};X.nSlide=function(ag,ai,ad){if(loading){return}var ac=null;if(r.btnNext&&typeof r.btnNext==="function"&&X.accDCObj){ac=r.btnNext.apply(this,[ag,X,ad])}if(typeof ac==="boolean"&&!ac){return false}var ah="";if(X){if(!G){if(!isNaN(ad)&&ad>=0){ah=y+ad}else{if(X.cur.slideVal<(X.cur.slideMax-1)){ah=y+(X.cur.slideVal+1)}else{if(H){ah=y+0}else{return false}}}}else{var af=X.cur.groupVal,ae=X.cur.slideVal;if(af>=(X.cur.groupMax-1)&&ae>=(X.cur.slideMax-1)&&!H){return false}else{if(ae>=(X.cur.slideMax-1)){af=af<(X.cur.groupMax-1)?af+1:0;ae=0}else{ae+=1}}ah=y+af+ae}}var ab=$A.reg[ah];X.dirFlag=1;if(ab&&ab.id){ab.open()}};X.pGroup=function(ae){if(loading){return}var ac=null;if(r.btnPrevG&&typeof r.btnPrevG==="function"){ac=r.btnPrevG.apply(this,[ae,X])}if(typeof ac==="boolean"&&!ac){return false}var af="",ad=X.cur.groupVal;if(ad<1&&!H){return false}else{ad=ad>0?ad-1:X.cur.groupMax-1;af=y+ad+0;var ab=$A.reg[af];X.dirFlag=0;if(ab&&ab.id){ab.open()}}};X.nGroup=function(ah,af,ac){if(loading){return}var ae=null;if(r.btnNextG&&typeof r.btnNextG==="function"){ae=r.btnNextG.apply(this,[ah,X,af,ac])}if(typeof ae==="boolean"&&!ae){return false}var ai="",ag=X.cur.groupVal,ad=((!isNaN(af)&&af>=0)&&(!isNaN(ac)&&ac>=0));if(ag>=(X.cur.groupMax-1)&&!H&&!ad){return false}else{if(ad){ag=ac}else{ag=ag<(X.cur.groupMax-1)?ag+1:0}ai=y+ag+(ad?af:0);var ab=$A.reg[ai];X.dirFlag=1;if(ab&&ab.id){ab.open()}}};$A.bind(I,{click:function(ab){ab.preventDefault();X.pSlide.apply(this,[ab,X])},keydown:function(ac){var ab=ac.which||ac.keyCode;if(ab==13||ab==32){ac.preventDefault();X.pSlide.apply(this,[ac,X])}}});$A.bind(K,{click:function(ab){ab.preventDefault();X.nSlide.apply(this,[ab,X])},keydown:function(ac){var ab=ac.which||ac.keyCode;if(ab==13||ab==32){ac.preventDefault();X.nSlide.apply(this,[ac,X])}}});if(G){$A.bind(C,{click:function(ab){ab.preventDefault();X.pGroup.apply(this,[ab,X])},keydown:function(ac){var ab=ac.which||ac.keyCode;if(ab==13||ab==32){ac.preventDefault();X.pGroup.apply(this,[ac,X])}}});$A.bind(N,{click:function(ab){ab.preventDefault();X.nGroup.apply(this,[ab,X])},keydown:function(ac){var ab=ac.which||ac.keyCode;if(ab==13||ab==32){ac.preventDefault();X.nGroup.apply(this,[ac,X])}}})}if(L.timer>0){$A.bind("body","keydown."+y,function(ac){var ab=ac.which||ac.keyCode;if(ab==27){t=true;X.isStopped=t;X.isPaused=w;if(r.stopStateChange&&typeof r.stopStateChange==="function"){r.stopStateChange.apply(X,[t||w||false,X])}ac.preventDefault()}});if(L.hiddenMsg&&!("ontouchstart" in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)){X.fn.sraStart.appendChild($A.createEl("div",null,X.sraCSS,null,document.createTextNode(L.hiddenMsg)))}else{$A.setAttr(X.fn.sraStart,"aria-hidden","true")}}},focusIn:function(W,V){w=true;clearTimeout(V.inc);V.isStopped=t;V.isPaused=w;if(r.stopStateChange&&typeof r.stopStateChange==="function"){r.stopStateChange.apply(V,[t||w||false,V])}},focusOut:function(W,V){w=false;V.setInc();V.isStopped=t;V.isPaused=w;if(r.stopStateChange&&typeof r.stopStateChange==="function"){r.stopStateChange.apply(V,[t||w||false,V])}},mouseOver:function(W,V){w=true;clearTimeout(V.inc);V.isStopped=t;V.isPaused=w;if(r.stopStateChange&&typeof r.stopStateChange==="function"){r.stopStateChange.apply(V,[t||w||false,V])}},mouseLeave:function(W,V){w=false;V.setInc();V.isStopped=t;V.isPaused=w;if(r.stopStateChange&&typeof r.stopStateChange==="function"){r.stopStateChange.apply(V,[t||w||false,V])}},setInc:function(){var V=this;if(V.id){clearTimeout(V.inc);if(L.timer>0){V.inc=setTimeout(function(){if(w||t){return}if(F){V.nSlide(null,true)}else{V.pSlide(null,true)}},L.timer)}}},runBeforeClose:function(V){e.innerHTML=""},runAfterClose:function(V){$A.unbind(window,"."+y);if(V.inc){clearTimeout(V.inc)}for(var W=0;W<V.children.length;W++){$A.destroy(V.children[W].id)}$A.destroy(V.id)}}])})};var e=null,a=function(f){return f.replace(/^\s+|\s+$/g,"")},d=function(g,f){var g=g?g.firstChild:null;while(g){if(g.nodeType===1&&(!f||f.toLowerCase()===g.nodeName.toLowerCase())){break}g=g.nextSibling}return g},b=function(f){if(!f){f=""}var g;if(window.DOMParser){var h=new DOMParser();g=h.parseFromString(f,"text/xml")}else{g=new ActiveXObject("Microsoft.XMLDOM");g.async="false";g.loadXML(f)}return g},c=function(s,p,n,m,j){if(!s||!p){return}var g={},h={},q={},o={},k=j.duration||0;for(var r in n){g[r]=parseInt($A.css(s,r));q[r]=n[r]-g[r]}for(var r in m){h[r]=parseInt($A.css(p,r));o[r]=m[r]-h[r]}var f=Math.PI/(2*k),i=new Date().getTime(),l=setInterval(function(){var w=new Date().getTime()-i;if(w<k){var z=Math.abs(Math.sin(w*f)),v={},u={};for(var y in g){v[y]=Math.round(z*q[y]+g[y]);$A.css(s,y,v[y])}for(var y in h){u[y]=Math.round(z*o[y]+h[y]);$A.css(p,y,u[y])}if(j.step){j.step.apply(s,[v,u])}}else{clearInterval(l);for(var x in n){$A.css(s,x,n[x])}for(var x in m){$A.css(p,x,m[x])}if(j.complete){j.complete.apply(s,[n,m])}}},10)}})();