/*!
Form Field Validator R1.2
Copyright 2010-2015 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
$A.setFormFields=function(e,o,r){var i={},s=[];for(var t in o)s.push($A.getEl(t)),i[t]=!1;$A.query(s,function(e,r){var s=r.id,t=o[s];if($A([{id:s,role:t.overrides&&t.overrides.role||(t.helpText?"help":"error"),source:t.helpText||t.errorText,triggerObj:r,returnFocus:!1,showHiddenBounds:!1,allowReopen:!0,className:t.overrides&&t.overrides.className||"errorTooltip",autoPosition:isNaN(t.overrides&&t.overrides.autoPosition)?3:t.overrides.autoPosition,offsetLeft:isNaN(t.overrides&&t.overrides.offsetLeft)?10:t.overrides.offsetLeft,cssObj:{position:"absolute"},runDuring:function(e){$A.setAttr(e.accDCObj,{role:"region","aria-label":e.role})},runAfter:function(e){t.togglePassed||$A.addClass(e.classObj||e.targetObj||e.triggerObj,t.toggleClass||"validateError"),$A.announce(e.source,!0)},runAfterClose:function(e){t.togglePassed||$A.remClass(e.classObj||e.targetObj||e.triggerObj,t.toggleClass||"validateError")},allowCascade:!0}],t.overrides),$A.bind(window,"resize",function(e){$A.reg[s].setPosition()}),$A.setAttr(r,"aria-required","true"),$A.bind(r,{focusin:function(e){if(t.helpText){var r=$A.reg[s];i[s]=t.validate.apply(this,[e,r]),i[s]?t.togglePassed&&$A.addClass(r.classObj||r.targetObj||r.triggerObj,t.toggleClass||"validateError"):t.togglePassed&&$A.remClass(r.classObj||r.targetObj||r.triggerObj,t.toggleClass||"validateError")}},focusout:function(e){var r=$A.reg[s];i[s]=t.validate.apply(this,[e,r]),t.helpText?(r.close(),t.togglePassed&&(i[s]?$A.addClass(r.classObj||r.targetObj||r.triggerObj,t.toggleClass||"validateError"):$A.remClass(r.classObj||r.targetObj||r.triggerObj,t.toggleClass||"validateError"))):i[s]?t.hideError?r.runAfterClose.apply(r,[r]):r.close():t.hideError?r.runAfter.apply(r,[r]):r.open()}}),t.helpText){var a="";$A.bind(r,"keypress keyup",function(e){if(a!==this.value){a=this.value;var r=$A.reg[this.id];i[this.id]=t.validate.apply(this,[e,r]),t.togglePassed&&(i[this.id]?$A.addClass(r.classObj||r.targetObj||r.triggerObj,t.toggleClass||"validateError"):$A.remClass(r.classObj||r.targetObj||r.triggerObj,t.toggleClass||"validateError"))}})}}),$A.bind(e,"submit",function(t){var a=[];if($A.query(s,function(e,r){var s=r.id;i[s]=o[s].validate.apply(r,[t,$A.reg[s]]),i[s]||a.push(s)}),a.length){var e=$A.reg[a[0]];o[a[0]].helpText||o[a[0]].hideError||e.open(),e.triggerObj.focus(),t.preventDefault()}else r&&"function"==typeof r&&r.apply(this,[t,s])})};