/*!
Popup Module R1.7
Copyright 2010-2018 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
$A.setPopup=function(e){var o;e&&!e.id&&(e.id=$A.genId()),"number"!=typeof e.mode&&(e.source=(o=$A.createEl("div"),$A.load(o,e.source),o)),$A([e],{role:"Popup",bind:"click",isToggle:!0,forceFocus:!0,accStart:"Start",accEnd:"End",accClose:"Close",autoPosition:3,cssObj:{position:"absolute"},allowCascade:!0,click:function(e,o){e.stopPropagation()},runDuring:function(o){o.popupLoaded=!1,o.preventAutoClose||$A.bind("body","click.popup",function(e){o.popupLoaded&&o.close()}),$A.bind(window,"resize.popup",function(){o.setPosition()}),o.role.replace(/^\s+|\s+$/g,"")&&$A.setAttr(o.accDCObj,{role:"region","aria-label":o.role}),o.fn.sraStart.innerHTML=o.fn.sraEnd.innerHTML="",$A.setAttr(o.fn.sraStart,{"aria-hidden":"true"}),$A.setAttr(o.fn.sraEnd,{"aria-hidden":"true"})},announce:!0,runAfter:function(e){$A.setAttr(e.triggerObj,"aria-expanded","true"),setTimeout(function(){e.popupLoaded=!0},750)},runAfterClose:function(e){$A.setAttr(e.triggerObj,"aria-expanded","false"),$A.unbind(window,".popup"),$A.unbind("body",".popup")},keyDown:function(e,o){27==(e.which||e.keyCode)&&(o.close(),e.stopPropagation())},className:"popup",closeClassName:"popupClose"},!0);var t="string"==typeof e.trigger?$A.query(e.trigger)[0]:e.trigger.nodeType?e.trigger:null;return t&&$A.setAttr(t,"aria-expanded","false"),e.id};