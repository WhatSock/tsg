/*!
ARIA Data Grid Module R1.6
Copyright 2010-2017 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
!function(g){var r="grid"+$A.genId(),b=1;$A.DataGrid=function(o){function t(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"function"==typeof e.splice&&!e.propertyIsEnumerable("length")}var w=this,u=(o="string"==typeof o?$A.getEl(o):o,{gridClass:"data-grid",gridReadOnlyClass:"data-grid-readonly",cellReadOnlyClass:"data-grid-cell-readonly",gridEditableClass:"data-grid-editable",gridSelectableClass:"data-grid-selectable",gridRowClass:"data-grid-row",gridCellClass:"data-grid-cell",gridCellToggleClass:"data-grid-cell-toggle",gridCellTogglePressedClass:"data-grid-cell-toggle-pressed",gridCellLinkClass:"data-grid-cell-link",gridRowFocusedClass:"data-grid-row-focused",gridCellFocusedClass:"data-grid-cell-focused",editFieldClass:"data-grid-cell-link-edit",edit:!1,colHeaders:{map:[]},rowHeaders:{enabled:!1,id:null},page:{row:{max:0,collectionMap:[],collection:{},toggleButtonRole:"Toggle Button",toggleButtonState:"Pressed",disabledText:"Disabled",editLinkAction:"Editable",build:function(e){var l=r+"tr"+ ++b;for(id in e.rowNodeId=l,e.rowNode=$A.createEl("tr",{role:"row",id:l},null,u.gridRowClass),e.cells){var a=r+"td"+ ++b;e.cells[id].id=id,e.cells[id].cellNodeId=a,e.cells[id].data={},e.cells[id].cellNode=$A.createEl("td",{id:a},null,u.gridCellClass),u.page.row.bindCell(e.cells[id],e.cells[id].cellNode,e,e.rowNode),e.cells[id].cellNodeA=$A.createEl("strong",{id:a+"a"},null,"toggle"==e.cells[id].type?u.gridCellToggleClass:u.gridCellLinkClass),e.cells[id].cellNodeS1=$A.createEl("span"),e.cells[id].cellNodeS2=$A.createEl("span",null,$A.sraCSS),e.cells[id].cellNodeS3=$A.createEl("span",null,$A.sraCSS),e.cells[id].cellNode.appendChild(e.cells[id].cellNodeA),e.cells[id].cellNodeA.appendChild(e.cells[id].cellNodeS1),e.cells[id].cellNodeA.appendChild(e.cells[id].cellNodeS2),e.cells[id].cellNodeA.appendChild(e.cells[id].cellNodeS3),e.cells[id].rowObject=e,g.data(e.cells[id].cellNode,"celldata",{rowId:e.id,rowNodeId:e.rowNodeId,cellId:id,cellNodeId:e.cells[id].cellNodeId})}g.data(e.rowNode,"rowdata",{rowId:e.id,rowNodeId:e.rowNodeId})},trackPos:{row:0,col:0},resetPos:function(e){var l=g.data(e,"celldata");u.page.row.trackPos.row=$A.inArray(l.rowId,u.page.rendered)||0;for(var a=0;a<u.colHeaders.map.length;a++)if(l.cellId==u.colHeaders.map[a].id){u.page.row.trackPos.col=a;break}return l},dblClickTitle:"Click to activate",editFieldTitle:"Press Enter to save, or Escape to cancel.",cellOffset:function(e){var l=$A.xOffset(e.cellNodeA);return l.height=$A.xHeight(e.cellNodeA),l.width=$A.xWidth(e.cellNodeA),l},bindCell:function(r,d,c,e){function n(){if(d=r.cellNode,c=r.rowObject,r.rowObject.rowNode,u.edit&&!r.readonly)"toggle"==r.type?u.page.row.changed(d,r,!r.value):(u.page.row.editFieldActive&&f(),u.page.row.editFieldActive=r,$A.bind(u.page.row.editField,{"keydown.gridcontrol":function(e){var l=e.which||e.keyCode;13!=l&&27!=l&&9!=l||(e.preventDefault(),e.stopPropagation(),13==l&&u.page.row.changed(d,u.page.row.editFieldActive,this.value),f(!0))},"blur.gridcontrol":function(e){e.preventDefault()}}),u.page.row.editField.value=r.value,$A.setAttr(u.page.row.editField,{title:u.page.row.editFieldTitle}),$A.query("body > *",function(e,l){$A.setAttr(l,"aria-hidden","true")}),document.body.appendChild(u.page.row.editFieldDiv),$A.css(u.page.row.editFieldDiv,u.page.row.cellOffset(r)),u.page.row.editField.focus(),u.page.row.editLoad&&"function"==typeof u.page.row.editLoad&&u.page.row.editLoad.apply(u.page.row.editField,[u.page.row.editField,r]));else if(u.page.row.selectEnabled){var e=c.selected;u.page.row.multiSelect||u.page.row.unselectAll(),e&&!u.page.row.multiSelect||u.page.row.select(r),u.page.row.ariaSelect||$A.announce(r.cellNode)}}var i={ctrl:!1,alt:!1};$A.bind(d,{"click.gridcontrol":function(e){(e.srcElement||e.target)==this&&this==u.page.row.focusedCell||u.page.row.move(u.page.row.resetPos(this)),("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&(r=s(this),n()),e.preventDefault()},"dblclick.gridcontrol":function(e){l&&(this!=u.page.row.focusedCell&&u.page.row.move(u.page.row.resetPos(this)),"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||(r=s(this),n()),e.stopPropagation(),e.preventDefault())},"mouseup.gridcontrol":function(e){l||(!e.which&&e.button&&1&e.button&&(e.which=1),1===e.which&&(this!=u.page.row.focusedCell&&u.page.row.move(u.page.row.resetPos(this)),"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||(r=s(this),n()),e.stopPropagation(),e.preventDefault()))},"keydown.gridcontrol":function(e){var l=e.which||e.keyCode;if(i.ctrl=e.ctrlKey,i.alt=e.altKey,33<=l&&l<=40||13==l||32==l||46==l||65==l){if(r=s(this),13==l||32==l)if(32==l&&i.ctrl){for(var a="",o=0;o<u.colHeaders.map.length;o++){var t=u.colHeaders.map[o];a+=$A.getText(r.rowObject.cells[t.id].cellNode)+", "}$A.announce(a)}else n();else 33<=l&&l<=40?function(e){if(d=r.cellNode,c=r.rowObject,r.rowObject.rowNode,33==e)i.alt?u.page.first(r,c):u.page.prev(r,c);else if(34==e)i.alt?u.page.last(r,c):u.page.next(r,c);else if(35<=e&&e<=40){var l=!1,a=u.page.rendered.length-1,o=u.colHeaders.map.length-1;if(35==e&&i.ctrl&&u.page.current<u.page.total)return u.page.last(r,c,!0);if(35==e&&i.ctrl&&u.page.current==u.page.total)u.page.row.trackPos.row=a,l=!0;else if(35==e&&u.page.row.trackPos.col<o)u.page.row.trackPos.col=o,l=!0;else{if(36==e&&i.ctrl&&1<u.page.current)return u.page.first(r,c);if(36==e&&i.ctrl&&1==u.page.current)l=!(u.page.row.trackPos.row=0);else if(36==e&&0<u.page.row.trackPos.col)l=!(u.page.row.trackPos.col=0);else if(37==e&&0<u.page.row.trackPos.col)u.page.row.trackPos.col-=1,l=!0;else if(38==e&&0<u.page.row.trackPos.row&&i.alt)l=!(u.page.row.trackPos.row=0);else if(38==e&&0<u.page.row.trackPos.row)u.page.row.trackPos.row-=1,l=!0;else{if(38==e&&0==u.page.row.trackPos.row)return u.page.prev(r,c,!0);if(39==e&&u.page.row.trackPos.col<o)u.page.row.trackPos.col+=1,l=!0;else if(40==e&&u.page.row.trackPos.row<a&&i.alt)u.page.row.trackPos.row=a,l=!0;else if(40==e&&u.page.row.trackPos.row<a)u.page.row.trackPos.row+=1,l=!0;else if(40==e&&u.page.row.trackPos.row>=a)return u.page.next(r,c)}}l&&u.page.row.move({rowId:u.page.rendered[u.page.row.trackPos.row],cellId:u.colHeaders.map[u.page.row.trackPos.col].id})}}(l):46==l&&u.page.row.deleteRow.enabled?(u.page.row.deleteRow.callback(),u.page.row.move()):65==l&&i.ctrl&&u.page.row.selectEnabled&&(u.page.row.selectAll(),$A.announce(u.page.row.selectState));e.stopPropagation(),e.preventDefault()}},"keyup.gridcontrol":function(e){i.ctrl=!1,i.alt=!1},"focus.gridcontrol":function(e){r=s(this),$A.addClass(this,u.gridCellFocusedClass),$A.addClass(r.rowObject.rowNode,u.gridRowFocusedClass),this!=u.page.row.focusedCell&&u.page.row.move(u.page.row.resetPos(this),!0)},"blur.gridcontrol":function(e){$A.query("tr."+u.gridRowFocusedClass+", td."+u.gridCellFocusedClass,u.dc.containerDiv,function(e,l){$A.remClass(l,u.gridRowFocusedClass+" "+u.gridCellFocusedClass)})}})},clean:function(e,l){for(var a in $A.remAttr(e.rowNode,["title","aria-selected","aria-rowindex","aria-owns"]),$A.remClass(e.rowNode,u.gridRowFocusedClass+" "+u.page.row.selectClass),l||g.removeData(e.rowNode,"rowdata"),e.cells)$A.remAttr(e.cells[a].cellNode,["aria-activedescendant","aria-labelledby","aria-describedby","tabindex","aria-colindex","aria-selected","aria-readonly"]),$A.remClass(e.cells[a].cellNode,u.cellReadOnlyClass+" "+u.gridCellFocusedClass+" "+(e.cells[a].toggleClass||u.gridCellTogglePressedClass)),$A.remAttr(e.cells[a].cellNodeA,["title","role","aria-pressed","aria-disabled"]),e.cells[a].cellNodeS1.innerHTML="",e.cells[a].cellNodeS2.innerHTML="",e.cells[a].cellNodeS3.innerHTML="",l||g.removeData(e.cells[a].cellNode,"celldata")},changed:function(e,l,a){var o=!u.page.row.changed.cb||"function"!=typeof u.page.row.changed.cb||u.page.row.changed.cb.apply(e,[l,a,l.rowObject,w]);"boolean"!=typeof o&&(o=!0),o&&u.page.row.update(l.rowObject.id,l.id,a)},selectEnabled:!1,selectState:"Selected",selectClass:"selected",multiSelect:!1,preserveSelect:!1,ariaSelect:!1,selected:[],select:function(e,l){var a=l||!e.rowObject.selected,o=!u.page.row.select.cb||"function"!=typeof u.page.row.select.cb||u.page.row.select.cb.apply(e.rowObject.rowNode,[e.rowObject,a,u.page.row.selected,w]);if("boolean"!=typeof o&&(o=!0),o){e.rowObject.selected=a;for(var t=!1,r=u.page.row.selected.length-1;0<=r;r--)u.page.row.selected[r]!==e.rowObject.id||e.rowObject.selected?u.page.row.selected[r]===e.rowObject.id&&e.rowObject.selected&&(t=!0):u.page.row.selected.splice(r,1);if(!t&&e.rowObject.selected&&u.page.row.selected.push(e.rowObject.id),-1!==$A.inArray(e.rowObject.id,u.page.rendered)){var d="";e.rowObject.selected?($A.addClass(e.rowObject.rowNode,u.page.row.selectClass),d=u.page.row.selectState?u.page.row.selectState+". ":""):$A.remClass(e.rowObject.rowNode,u.page.row.selectClass),d+=u.page.row.dblClickTitle,$A.setAttr(e.rowObject.rowNode,"title",d),u.page.row.ariaSelect&&$A.setAttr(e.rowObject.rowNode,"aria-selected",e.rowObject.selected?"true":"false");for(r=0;r<u.colHeaders.map.length;r++)u.page.row.ariaSelect?$A.setAttr(e.rowObject.cells[u.colHeaders.map[r].id].cellNode,"aria-selected",e.rowObject.selected?"true":"false"):e.rowObject.cells[u.colHeaders.map[r].id].cellNodeS3.innerHTML=e.rowObject.selected?"<span>&nbsp;"+A(u.page.row.selectState)+"</span>":""}}},unselectAll:function(){for(var e=u.page.row.selected.length-1;0<=e;e--){var l=u.page.row.selected[e];u.page.row.select(u.page.row.collection[l].cells[u.colHeaders.map[0].id],!1),u.page.row.selected.splice(e,1)}},selectAll:function(){if(u.page.row.selectEnabled&&u.page.row.multiSelect){u.page.row.preserveSelect||u.page.row.unselectAll();for(var e=0;e<u.page.rendered.length;e++)u.page.row.select(u.page.row.collection[u.page.rendered[e]].cells[u.colHeaders.map[0].id],!0)}},deleteRow:{enabled:!1,callback:function(e){var l=!u.page.row.deleteRow.callback.runBefore||"function"!=typeof u.page.row.deleteRow.callback.runBefore||u.page.row.deleteRow.callback.runBefore.apply(w,[e&&e.length?e:u.page.row.selected]);if("boolean"!=typeof l&&(l=!0),!l)return!1;var a=[];if(e&&e.length){u.page.row.unselectAll();for(var o=0;o<e.length;o++)u.page.row.collection[e[o]]&&u.page.row.collection[e[o]].cells&&u.page.row.selected.push(e[o])}var t=u.page.row.selected.length;for(o=u.page.row.selected.length-1;0<=o;o--){var r=u.page.row.collection[u.page.row.selected[o]],d=$A.inArray(r.id,u.page.row.collectionMap);if(-1!==d){var c=!u.page.row.deleteRow.callback.cb||"function"!=typeof u.page.row.deleteRow.callback.cb||u.page.row.deleteRow.callback.cb.apply(r.rowNode,[r,w]);if("boolean"!=typeof c&&(c=!0),c){for(var n in a.push(r.id),u.page.row.clean(r),r.cells)g(r.cells[n].cellNode).remove();g(r.rowNode).remove();var i=$A.inArray(r.id,u.page.rendered);-1!==i&&u.page.rendered.splice(i,1),u.page.row.selected.splice(o,1),u.page.row.collectionMap.splice(d,1),delete u.page.row.collection[r.id]}}}return t!=u.page.row.selected.length&&(u.page.row.trackPos.row=0,u.page.sync(),u.page.open(u.page.current),u.page.row.deleteRow.callback.runAfter&&"function"==typeof u.page.row.deleteRow.callback.runAfter&&u.page.row.deleteRow.callback.runAfter.apply(w,[a]),!0)}},update:function(e,l,a,o){if(u.page.row.collection[e]&&u.page.row.collection[e].cells[l]){var t=u.page.row.collection[e].cells[l],r=t.type;if(u.page.row.collection[e].cells[l].value="toggle"==r?!!a:a,-1!==$A.inArray(e,u.page.rendered)){if("toggle"==r){A(u.page.row.toggleButtonRole);a?($A.setAttr(t.cellNodeA,{"aria-describedby":$A.getAttr(t.cellNode,"aria-describedby"),role:"button","aria-pressed":"true"}),$A.addClass(t.cellNodeA,t.toggleClass||u.gridCellTogglePressedClass),"&nbsp;"+A(u.page.row.toggleButtonState)):($A.setAttr(t.cellNodeA,{"aria-describedby":$A.getAttr(t.cellNode,"aria-describedby"),role:"button","aria-pressed":"false"}),$A.remClass(t.cellNodeA,t.toggleClass||u.gridCellTogglePressedClass)),!t.readonly&&!u.page.row.selectEnabled&&u.edit||$A.setAttr(t.cellNodeA,"aria-disabled","true")}else t.cellNodeS1.innerHTML="<span>"+A(a)+"</span>";o||$A.announce(t.cellNodeA)}}},focusedCell:null,move:function(e,l){if(e||!u.page.row.focusedCell){var a=u.page.row.focusedCell,o=u.page.row.collection[e.rowId].cells[e.cellId].cellNode;a&&a!=o&&$A.setAttr(a,"tabindex","-1"),u.page.row.focusedCell=o,u.page.row.resetPos(o),$A.setAttr(o,"tabindex","0"),l||o.focus(),u.page.row.move.cb&&"function"==typeof u.page.row.move.cb&&u.page.row.move.cb.apply(o,[o,a,u.dc,w])}else setTimeout(function(){u.page.row.focusedCell.focus()},1)}},pageRole:"Page",current:1,total:1,sync:function(e){var l=u.page.current,a=u.page.total;if(u.page.row.max&&u.page.row.collectionMap.length){var o=u.page.row.max,t=u.page.row.collectionMap.length;if(t<=o)u.page.current=u.page.total=1;else{var r=Math.ceil(t/o);u.page.total=r,u.page.current>r&&(u.page.current=r)}}else u.page.current=u.page.total=1;var d=[];if(e){e>u.page.row.total&&(e=u.page.row.total);var c=(e-1)*u.page.row.max,n=c+u.page.row.max;u.page.current=e,u.page.row.max||(n=u.page.row.collectionMap.length);for(var i=c;i<n;i++){var s=u.page.row.collectionMap[i];isNaN(s)&&!s||(u.page.row.collection[s].rowIndex=i+1,d.push(s))}}if(l==u.page.current&&a==u.page.total||u.page.indexChanged&&"function"==typeof u.page.indexChanged&&u.page.indexChanged.apply(w,[u.page.current,u.page.total,w]),e)return d},on:{open:null,close:null,change:null,add:null,rem:null},open:function(e,l){u.page.row.editFieldActive&&f(!0,!0),(isNaN(e)||e<1)&&(e=1),l&&u.dc.loaded&&u.page.close();var a=u.dc.loaded;a||u.dc.open(),u.page.render(u.page.sync(e)),!a&&u.page.on.open&&"function"==typeof u.page.on.open&&u.page.on.open.apply(o,[o,u.dc,w])},close:function(){u.page.row.editFieldActive&&f(!0,!0),u.page.on.close&&"function"==typeof u.page.on.close&&u.page.on.close.apply(o,[o,u.dc,w]),u.page.row.unselectAll(),u.page.removeRendered(),u.dc.close()},rendered:[],removeRendered:function(){u.page.row.preserveSelect||u.page.row.unselectAll();for(var e=0;e<u.page.rendered.length;e++){var l=u.page.rendered[e],a=u.page.row.collection[l];for(var o in u.page.row.clean(a,!0),u.page.on.rem&&"function"==typeof u.page.on.rem&&u.page.on.rem.apply(a.rowNode,[a,u.dc,w]),a.cells)a.cells[o].cellNode.parentNode&&a.cells[o].cellNode.parentNode.removeChild(a.cells[o].cellNode);a.rowNode.parentNode.removeChild(a.rowNode)}u.page.rendered=[]},render:function(e){if(u.page.row.editFieldActive&&f(!0,!0),u.page.row.selectEnabled&&u.edit&&(u.edit=!1),u.dc.loaded){u.page.rendered.length&&u.page.removeRendered(),u.page.rendered=e;for(var l={},a=[],o=0;o<e.length;o++){b++;var t=u.page.row.collection[e[o]].rowNode,r=1,d=u.page.row.collection[e[o]].selected,c=d?u.page.row.selectState+". ":"";$A.addClass(t,u.gridRowClass),a.push(u.page.row.collection[e[o]].rowNodeId),u.page.row.selectEnabled&&($A.setAttr(t,{title:c+u.page.row.dblClickTitle}),u.page.row.ariaSelect&&$A.setAttr(t,{"aria-selected":d?"true":"false"}),d&&$A.addClass(t,u.page.row.selectClass)),$A.setAttr(t,"aria-rowindex",u.page.row.collection[e[o]].rowIndex);for(var n=[],i=0;i<u.colHeaders.map.length;i++){b++;var s=u.colHeaders.map[i],g=u.page.row.collection[e[o]].cells[s.id];if($A.addClass(g.cellNode,u.gridCellClass),n.push(g.cellNodeId),s.colClass&&$A.addClass(g.cellNode,s.colClass),$A.setAttr(g.cellNode,{role:"gridcell","aria-colindex":r,"aria-labelledby":g.cellNodeId+"a","aria-describedby":u.rowHeaders.enabled&&u.rowHeaders.id&&u.rowHeaders.id!=g.id&&g.rowObject.cells[u.rowHeaders.id]?g.rowObject.cells[u.rowHeaders.id].cellNodeId+" "+s.thId:s.thId,tabindex:"-1"}),("toggle"==g.type||u.edit&&!g.readonly)&&$A.setAttr(g.cellNode,{"aria-activedescendant":g.cellNodeId+"a"}),u.rowHeaders.enabled&&u.rowHeaders.id&&u.rowHeaders.id==g.id&&$A.setAttr(g.cellNode,{role:"rowheader",scope:"row"}),u.page.row.selectEnabled){if("toggle"==g.type&&(u.page.row.toggleButtonRole||u.page.row.toggleButtonState)){c=g.value?u.page.row.toggleButtonRole+" "+u.page.row.toggleButtonState:u.page.row.toggleButtonRole;$A.setAttr(g.cellNodeA,"title",c)}u.page.row.ariaSelect?$A.setAttr(g.cellNode,"aria-selected",d?"true":"false"):d&&(g.cellNodeS3.innerHTML=d?"<span>&nbsp;"+A(u.page.row.selectState)+"</span>":"")}else if(u.edit&&!g.readonly){c="";"toggle"==g.type&&(u.page.row.toggleButtonRole||u.page.row.toggleButtonState)?(c=g.value?u.page.row.toggleButtonRole+" "+u.page.row.toggleButtonState:u.page.row.toggleButtonRole,c+=". "):u.page.row.editLinkAction&&(c=u.page.row.editLinkAction+". "),$A.setAttr(g.cellNodeA,"title",c+u.page.row.dblClickTitle)}else if("toggle"==g.type&&(u.page.row.toggleButtonRole||u.page.row.toggleButtonState)){c=g.value?u.page.row.toggleButtonRole+" "+u.page.row.toggleButtonState:u.page.row.toggleButtonRole;$A.setAttr(g.cellNodeA,"title",c)}if(o===u.page.row.trackPos.row&&i===u.page.row.trackPos.col&&(l={rowId:e[o],cellId:s.id}),(g.readonly||u.page.row.selectEnabled)&&($A.setAttr(g.cellNode,"aria-readonly","true"),$A.addClass(g.cellNode,u.cellReadOnlyClass)),"toggle"==g.type){g.cellNodeS1.innerHTML="<span>"+A(g.name)+"</span>";var p="&nbsp;"+A(u.page.row.toggleButtonRole);g.value?($A.setAttr(g.cellNodeA,{"aria-describedby":$A.getAttr(g.cellNode,"aria-describedby"),role:"button","aria-pressed":"true"}),$A.addClass(g.cellNodeA,g.toggleClass||u.gridCellTogglePressedClass),p+="&nbsp;"+A(u.page.row.toggleButtonState)):($A.setAttr(g.cellNodeA,{"aria-describedby":$A.getAttr(g.cellNode,"aria-describedby"),role:"button","aria-pressed":"false"}),$A.remClass(g.cellNodeA,g.toggleClass||u.gridCellTogglePressedClass)),!g.readonly&&!u.page.row.selectEnabled&&u.edit||$A.setAttr(g.cellNodeA,"aria-disabled","true")}else if(g.cellNodeS1.innerHTML="<span>"+A(g.value)+"</span>",u.edit&&!g.readonly){$A.setAttr(g.cellNodeA,{"aria-describedby":$A.getAttr(g.cellNode,"aria-describedby"),role:"button"});p="&nbsp;"+A(u.page.row.editLinkAction);g.cellNodeS2.innerHTML="<span>"+p+"</span>"}else $A.setAttr(g.cellNodeA,"role","presentation");t.appendChild(g.cellNode),r+=1}$A.setAttr(t,"aria-owns",n.join(" ")),u.dc.tbody.appendChild(t),u.page.on.add&&"function"==typeof u.page.on.add&&u.page.on.add.apply(t,[u.page.row.collection[e[o]],u.dc,w])}$A.setAttr(u.dc.tbody,"aria-owns",a.join(" ")),"rowId"in l&&"cellId"in l&&u.page.row.move(l,!0)}},prev:function(e,l,a){1<u.page.current&&(u.page.render(u.page.sync(u.page.current-1)),u.page.row.move({rowId:u.page.rendered[a?u.page.rendered.length-1:0],cellId:e.id}),$A.announce(u.page.pageRole+" "+u.page.current),u.page.on.change&&"function"==typeof u.page.on.change&&u.page.on.change.apply(o,[u.page.current,u.page.total,w]))},next:function(e,l){u.page.current<u.page.total&&(u.page.render(u.page.sync(u.page.current+1)),u.page.row.move({rowId:u.page.rendered[0],cellId:e.id}),$A.announce(u.page.pageRole+" "+u.page.current),u.page.on.change&&"function"==typeof u.page.on.change&&u.page.on.change.apply(o,[u.page.current,u.page.total,w]))},first:function(e,l){1<u.page.current&&(u.page.render(u.page.sync(1)),u.page.row.move({rowId:u.page.rendered[0],cellId:e.id}),$A.announce(u.page.pageRole+" "+u.page.current),u.page.on.change&&"function"==typeof u.page.on.change&&u.page.on.change.apply(o,[u.page.current,u.page.total,w]))},last:function(e,l,a){u.page.current<u.page.total&&(u.page.render(u.page.sync(u.page.total)),u.page.row.move({rowId:a?u.page.rendered[u.page.rendered.length-1]:u.page.rendered[0],cellId:e.id}),$A.announce(u.page.pageRole+" "+u.page.current),u.page.on.change&&"function"==typeof u.page.on.change&&u.page.on.change.apply(o,[u.page.current,u.page.total,w]))}}}),e=r+"u"+ ++b,s=function(e){var l=g.data(e||u.page.row.focusedCell,"celldata");return u.page.row.collection[l.rowId].cells[l.cellId]};u.page.row.editMaxLength=255,u.page.row.editFieldDiv=$A.createEl("div",{role:"application"},null,u.editFieldClass),u.page.row.editField=$A.createEl("input",{type:"text",maxlength:u.page.row.editMaxLength},null,u.editFieldClass),u.page.row.editFieldDiv.appendChild(u.page.row.editField),$A.bind(window,"resize."+e,function(){u.page.row.editFieldActive&&$A.css(u.page.row.editFieldDiv,u.page.row.cellOffset(u.page.row.editFieldActive))});var f=function(e,l){u.page.row.editField.value="",$A.unbind(u.page.row.editField,".gridcontrol"),g(u.page.row.editFieldDiv).remove(),e&&(u.page.row.editFieldActive=null,$A.query("body > *",function(e,l){$A.setAttr(l,"aria-hidden","false"),$A.remAttr(l,"aria-hidden")}),l||u.page.row.move())};$A([{id:e,role:"Grid",showHiddenBounds:!1,isStatic:o,runAfter:function(e){b++,e.tableId=r+"t"+b,e.theadId=r+"tth"+b,e.trId=r+"tthtr"+b,e.tbodyId=r+"ttb"+b,e.table=$A.createEl("table",{role:"grid",id:e.tableId,"aria-owns":e.theadId+" "+e.tbodyId},null,u.gridClass),u.edit?$A.addClass(e.table,u.gridEditableClass):u.page.row.selectEnabled?($A.addClass(e.table,u.gridSelectableClass),u.page.row.multiSelect&&$A.setAttr(e.table,"aria-multiselectable","true")):u.edit||u.page.row.selectEnabled||($A.addClass(e.table,u.gridReadOnlyClass),$A.setAttr(e.table,"aria-readonly","true")),e.thead=$A.createEl("thead",{role:"rowgroup",id:e.theadId,"aria-owns":e.trId}),e.tbody=$A.createEl("tbody",{role:"rowgroup",id:e.tbodyId}),e.tr=$A.createEl("tr",{role:"row",id:e.trId},null,u.gridRowClass),e.table.appendChild(e.thead),e.table.appendChild(e.tbody),e.thead.appendChild(e.tr);for(var l=[],a=0;a<u.colHeaders.map.length;a++){b++;var o=u.colHeaders.map[a],t=$A.createEl("th",{role:"columnheader",id:r+"th"+b,scope:"col","aria-labelledby":r+"th"+b+"s",tabindex:"-1"},null,u.gridCellClass);u.colHeaders.map[a].thId=r+"th"+b,l.push(r+"th"+b),o.colClass&&$A.addClass(t,o.colClass),$A.bind(t,"click",function(e){u.page.row.move()}),t.innerHTML='<strong id="'+r+"th"+b+'s"><span>'+A(o.name)+"</span></strong>",e.tr.appendChild(t)}$A.setAttr(e.tr,"aria-owns",l.join(" ")),e.containerDiv.appendChild(e.table)},runBeforeClose:function(e){e.table&&g(e.table).remove(),e.table=e.thead=e.tbody=e.tr=null}}]),u.dc=$A.reg[e],w.id=e,w.getAccDCObject=function(){return u.dc},w.container=o,w.mapColumnNames=function(e){if(e&&("object"==typeof e||e.length)){u.colHeaders.map=[];for(var l=0;l<e.length;l++)u.colHeaders.map.push({id:e[l].id,name:e[l].lbl,colClass:e[l].colClass||""})}},w.changeColumnOrder=function(e,l){if(!(isNaN(e)||isNaN(l)||!u.colHeaders.map[e]||l>=u.colHeaders.map.length)){var a=u.colHeaders.map.splice(e,1);a.splice(0,0,l,0),[].splice.apply(u.colHeaders.map,a)}},w.enableRowHeaders=function(e,l){u.rowHeaders={enabled:!!e,id:l}},w.setRowMax=function(e){u.page.row.max=isNaN(e)?0:e},w.editable=function(e){u.edit=!!e},w.add=function(e){t(e)||(e=[e]);for(var l=0;l<e.length;l++){var a=e[l];if(a&&(!isNaN(a.id)||a.id)&&a.cells){if(a.id in u.page.row.collection){var o=$A.inArray(a.id,u.page.row.selected);-1!==o&&u.page.row.selected.splice(o,1),u.page.row.clean(u.page.row.collection[a.id]),g(u.page.row.collection[a.id].rowNode).remove(),-1!==(o=$A.inArray(a.id,u.page.row.collectionMap))&&u.page.row.collectionMap.splice(o,1),delete u.page.row.collection[a.id]}u.page.row.build(a),u.page.row.collectionMap.push(a.id),u.page.row.collection[a.id]=a,u.page.sync()}}},w.setChangeListener=function(e){"function"==typeof e&&(u.page.row.changed.cb=e)},w.setPageChangeListener=function(e){"function"==typeof e&&(u.page.on.change=e)},w.setEditMaxLength=function(e){isNaN(e)&&(e=0),u.page.row.editMaxLength=e},w.setEditLoadListener=function(e){"function"==typeof e&&(u.page.row.editLoad=e)},w.setPageIndexChangeListener=function(e){"function"==typeof e&&(u.page.indexChanged=e)},w.setSelect=function(e,l){e&&"object"==typeof e&&("enable"in e&&(u.page.row.selectEnabled=!!e.enable),"toggleClass"in e&&(u.page.row.selectClass=e.toggleClass||"selected"),"multiSelect"in e&&(u.page.row.multiSelect=!!e.multiSelect),"ariaSelect"in e&&(u.page.row.ariaSelect=!!e.ariaSelect),"preserve"in e&&(u.page.row.preserveSelect=!!e.preserve),"callback"in e&&(u.page.row.select.cb="function"==typeof e.callback?e.callback:null))},w.unselectAll=function(){u.page.row.unselectAll()},w.selectAll=function(){u.page.row.selectAll()},w.getSelected=function(){for(var e=[],l=0;l<u.page.row.selected.length;l++)e.push(u.page.row.collection[u.page.row.selected[l]]);return e},w.select=function(e){t(e)||(e=[e]);for(var l=0;l<e.length;l++){var a=e[l],o=u.page.row.collection[a];o&&o.cells&&o.cells[u.colHeaders.map[0].id]&&u.page.row.select(o.cells[u.colHeaders.map[0].id],!0)}},w.setDelete=function(e){e&&"object"==typeof e&&("enable"in e&&(u.page.row.deleteRow.enabled=!!e.enable),"callback"in e&&(u.page.row.deleteRow.callback.cb="function"==typeof e.callback?e.callback:null),"runBefore"in e&&(u.page.row.deleteRow.callback.runBefore="function"==typeof e.runBefore?e.runBefore:null),"runAfter"in e&&(u.page.row.deleteRow.callback.runAfter="function"==typeof e.runAfter?e.runAfter:null))},w.deleteRows=function(e){return!!u.page.row.deleteRow.enabled&&(e&&e.length?u.page.row.deleteRow.callback(e):u.page.row.deleteRow.callback())},w.deleteAllRows=function(){return!!u.page.row.deleteRow.enabled&&u.page.row.deleteRow.callback(u.page.row.collectionMap)},w.setAccessibleText=function(e){e&&"object"==typeof e&&("toggleButtonRole"in e&&(u.page.row.toggleButtonRole=e.toggleButtonRole),"toggleButtonState"in e&&(u.page.row.toggleButtonState=e.toggleButtonState),"disabledText"in e&&(u.page.row.disabledText=e.disabledText),"editLinkAction"in e&&(u.page.row.editLinkAction=e.editLinkAction),"pageRole"in e&&(u.page.pageRole=e.pageRole),"editFieldTitle"in e&&(u.page.row.editFieldTitle=e.editFieldTitle),"dblClickTitle"in e&&(u.page.row.dblClickTitle=e.dblClickTitle),"selectState"in e&&(u.page.row.selectState=e.selectState))},w.setStaticClasses=function(e){e&&"object"==typeof e&&("gridClass"in e&&(u.gridClass=e.gridClass),"gridReadOnlyClass"in e&&(u.gridReadOnlyClass=e.gridReadOnlyClass),"cellReadOnlyClass"in e&&(u.cellReadOnlyClass=e.cellReadOnlyClass),"gridEditableClass"in e&&(u.gridEditableClass=e.gridEditableClass),"gridSelectableClass"in e&&(u.gridSelectableClass=e.gridSelectableClass),"gridRowClass"in e&&(u.gridRowClass=e.gridRowClass),"gridCellClass"in e&&(u.gridCellClass=e.gridCellClass),"gridCellToggleClass"in e&&(u.gridCellToggleClass=e.gridCellToggleClass),"gridCellTogglePressedClass"in e&&(u.gridCellTogglePressedClass=e.gridCellTogglePressedClass),"gridCellLinkClass"in e&&(u.gridCellLinkClass=e.gridCellLinkClass),"gridRowFocusedClass"in e&&(u.gridRowFocusedClass=e.gridRowFocusedClass),"gridCellFocusedClass"in e&&(u.gridCellFocusedClass=e.gridCellFocusedClass),"editFieldClass"in e&&(u.editFieldClass=e.editFieldClass))},w.currentPage=function(){return u.page.current},w.totalPages=function(){return u.page.total},w.totalRows=function(){return u.page.row.collectionMap.length},w.openPage=function(e,l){isNaN(e)||e<1||u.page.open(e,l)},w.prevPage=function(){if(u.dc.loaded){var e=s();u.page.prev(e,e.rowObject)}},w.nextPage=function(){if(u.dc.loaded){var e=s();u.page.next(e,e.rowObject)}},w.firstPage=function(){if(u.dc.loaded){var e=s();u.page.first(e,e.rowObject)}},w.lastPage=function(){if(u.dc.loaded){var e=s();u.page.last(e,e.rowObject)}},w.setOpenListener=function(e){e&&"function"==typeof e&&(u.page.on.open=e)},w.setCloseListener=function(e){e&&"function"==typeof e&&(u.page.on.close=e)},w.setAddListener=function(e){e&&"function"==typeof e&&(u.page.on.add=e)},w.setRemoveListener=function(e){e&&"function"==typeof e&&(u.page.on.rem=e)},w.setMoveListener=function(e){e&&"function"==typeof e&&(u.page.row.move.cb=e)},w.getData=function(e,l,a){return e&&l&&a&&e in u.page.row.collection&&l in u.page.row.collection[e].cells?u.page.row.collection[e].cells[l].data[a]:null},w.setData=function(e,l,a,o){e&&l&&a&&e in u.page.row.collection&&l in u.page.row.collection[e].cells&&(u.page.row.collection[e].cells[l].data[a]=o)},w.getValue=function(e,l){return e&&l&&e in u.page.row.collection&&l in u.page.row.collection[e].cells?u.page.row.collection[e].cells[l].value:null},w.setValue=function(e,l,a){u.page.row.update(e,l,a,!0)},w.setEditOffset=function(e){e&&"function"==typeof e&&(u.page.row.cellOffset=e)},w.open=function(e){u.page.open(e,!0)},w.close=function(){u.page.close()};var l=!(w.focus=function(){u.page.row.move()});return w.useDblClick=function(e){l=!!e},w};var A=function(e,l){for(var a="",o=(a="number"==typeof e?e.toString():e).length,t=[];o--;){var r=a[o].charCodeAt();"\n"!=a[o]&&(r<65||127<r||90<r&&r<97)?t[o]="&#"+r+";":t[o]=a[o]}return t.join("")}}($A.internal);