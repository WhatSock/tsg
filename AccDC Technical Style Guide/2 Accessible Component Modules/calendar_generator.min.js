/*
ARIA Calendar Module R1.24
Copyright 2010-2017 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
(function(){$A.setCalendar=function(i,c,k,l,o,d){var d=d||{},m=d.helpText?d.helpText:"Press the arrow keys to navigate by day, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year, or Escape to cancel.",h=o&&typeof o==="function"?o:function(q,p){k.value=p.range.wDays[p.range.current.wDay].lng+" "+p.range[p.range.current.month].name+" "+p.range.current.mDay+", "+p.range.current.year;p.close()},n={alt:true,ctrl:false,shift:false},f={},e=function(p){f.alt=p.altKey;f.ctrl=p.ctrlKey;f.shift=p.shiftKey};$A([{id:i,role:d.role||"Calendar",trigger:c,bind:"opendatepicker",allowReopen:true,showHiddenClose:l&&d.editor&&d.editor.show?false:true,controlType:"DatePicker",tooltipTxt:d.tooltipTxt||"Press Escape to cancel",disabledTxt:d.disabledTxt||"Disabled",commentedTxt:d.commentedTxt||"Has Comment",prevTxt:d.prevTxt||"Previous",nextTxt:d.nextTxt||"Next",monthTxt:d.monthTxt||"Month",yearTxt:d.yearTxt||"Year",autoPosition:isNaN(d.autoPosition)?9:d.autoPosition,offsetTop:isNaN(d.offsetTop)?0:d.offsetTop,offsetLeft:isNaN(d.offsetLeft)?0:d.offsetLeft,posAnchor:d.posAnchor,targetObj:d.targetObj,cssObj:d.cssObj||{position:"absolute",zIndex:1},className:d.className||"calendar",range:{disabledWDays:[],0:{name:d.months&&d.months[0]?d.months[0]:"January",max:31,disabled:{},disabledWDays:[],comments:{}},1:{name:d.months&&d.months[1]?d.months[1]:"February",max:28,disabled:{},disabledWDays:[],comments:{}},2:{name:d.months&&d.months[2]?d.months[2]:"March",max:31,disabled:{},disabledWDays:[],comments:{}},3:{name:d.months&&d.months[3]?d.months[3]:"April",max:30,disabled:{},disabledWDays:[],comments:{}},4:{name:d.months&&d.months[4]?d.months[4]:"May",max:31,disabled:{},disabledWDays:[],comments:{}},5:{name:d.months&&d.months[5]?d.months[5]:"June",max:30,disabled:{},disabledWDays:[],comments:{}},6:{name:d.months&&d.months[6]?d.months[6]:"July",max:31,disabled:{},disabledWDays:[],comments:{}},7:{name:d.months&&d.months[7]?d.months[7]:"August",max:31,disabled:{},disabledWDays:[],comments:{}},8:{name:d.months&&d.months[8]?d.months[8]:"September",max:30,disabled:{},disabledWDays:[],comments:{}},9:{name:d.months&&d.months[9]?d.months[9]:"October",max:31,disabled:{},disabledWDays:[],comments:{}},10:{name:d.months&&d.months[10]?d.months[10]:"November",max:30,disabled:{},disabledWDays:[],comments:{}},11:{name:d.months&&d.months[11]?d.months[11]:"December",max:31,disabled:{},disabledWDays:[],comments:{}},wDays:[{shrt:d.days&&d.days[0]?d.days[0].s:"S",lng:d.days&&d.days[0]?d.days[0].l:"Sunday"},{shrt:d.days&&d.days[1]?d.days[1].s:"M",lng:d.days&&d.days[1]?d.days[1].l:"Monday"},{shrt:d.days&&d.days[2]?d.days[2].s:"T",lng:d.days&&d.days[2]?d.days[2].l:"Tuesday"},{shrt:d.days&&d.days[3]?d.days[3].s:"W",lng:d.days&&d.days[3]?d.days[3].l:"Wednesday"},{shrt:d.days&&d.days[4]?d.days[4].s:"T",lng:d.days&&d.days[4]?d.days[4].l:"Thursday"},{shrt:d.days&&d.days[5]?d.days[5].s:"F",lng:d.days&&d.days[5]?d.days[5].l:"Friday"},{shrt:d.days&&d.days[6]?d.days[6].s:"S",lng:d.days&&d.days[6]?d.days[6].l:"Saturday"}],wdOffset:isNaN(d.wdOffset)?0:d.wdOffset},getWDay:function(p,t,q){var t=typeof t==="number"?t:p.range.current.wDay,s=p.range.wdOffset;if(s<0){t=(t+s)<0?7+s:t+s}else{if(s>0){t=(t+s)>6?-1+((t+s)-6):t+s}}if(q){t=6-t}return t},setFocus:function(u,t,r){var q=this;if(!u){return}this.current=u;$A.query("td.day.selected",this.containerDiv,function(s,v){$A.setAttr(v,{tabindex:"-1"});$A.remClass(v,"selected")});$A.addClass(u,"selected");$A.setAttr(u,{tabindex:"0"});if(!r){if(q.navBtn=="PM"){q.buttons.pM.focus();$A.announce(q.range[q.range.current.month].name);q.navBtnS=true}else{if(q.navBtn=="NM"){q.buttons.nM.focus();$A.announce(q.range[q.range.current.month].name);q.navBtnS=true}else{if(q.navBtn=="PY"){q.buttons.pY.focus();$A.announce(q.range.current.year.toString());q.navBtnS=true}else{if(q.navBtn=="NY"){q.buttons.nY.focus();$A.announce(q.range.current.year.toString());q.navBtnS=true}else{u.focus()}}}}}if(q.fn.navBtn){q.fn.navBtn=""}else{q.navBtn=""}},setCurrent:function(p){p.range.current={mDay:p.date.getDate(),month:p.date.getMonth(),year:p.date.getFullYear(),wDay:p.date.getDay()}},runOnceBefore:function(p){p.date=new Date();p.setCurrent(p);p.fn.current={};$A.internal.extend(true,p.fn.current,p.range.current)},runBefore:function(I){if(d.ajax&&typeof d.ajax==="function"&&!I.stopAjax&&!I.ajaxLoading){I.ajaxLoading=I.cancel=true;I.fn.navBtn=I.navBtn;d.ajax.apply(I,[I,false])}if(I.range.current.month===1){I.range[1].max=(new Date(I.range.current.year,1,29).getMonth()==1)?29:28}I.baseId="b"+$A.genId();I.prevBtnId=I.baseId+"p";I.nextBtnId=I.baseId+"n";I.source='<table role="application" class="calendar" aria-label="'+I.role+'"><tr role="presentation"><td class="nav btn prev year" accesskey="1" title="'+I.prevTxt.replace(/<|>|\"/g,"")+" "+I.yearTxt.replace(/<|>|\"/g,"")+'" aria-label="'+I.prevTxt.replace(/<|>|\"/g,"")+" "+I.yearTxt.replace(/<|>|\"/g,"")+'" role="button" id="'+I.prevBtnId+'Y" tabindex="0"><span aria-hidden="true">&#8656;</span></td><td title="'+I.tooltipTxt.replace(/<|>|\"/g,"")+'" colspan="5" class="year" role="presentation"><span>'+I.range.current.year+'</span></td><td class="nav btn next year" accesskey="2" title="'+I.nextTxt.replace(/<|>|\"/g,"")+" "+I.yearTxt.replace(/<|>|\"/g,"")+'" aria-label="'+I.nextTxt.replace(/<|>|\"/g,"")+" "+I.yearTxt.replace(/<|>|\"/g,"")+'" role="button" id="'+I.nextBtnId+'Y" tabindex="0"><span aria-hidden="true">&#8658;</span></td></tr><tr role="presentation"><td class="nav btn prev month" accesskey="3" title="'+I.prevTxt.replace(/<|>|\"/g,"")+" "+I.monthTxt.replace(/<|>|\"/g,"")+'" aria-label="'+I.prevTxt.replace(/<|>|\"/g,"")+" "+I.monthTxt.replace(/<|>|\"/g,"")+'" role="button" id="'+I.prevBtnId+'" tabindex="0"><span aria-hidden="true">&#8592;</span></td><td colspan="5" class="month" role="presentation"><span>'+I.range[I.range.current.month].name+'</span></td><td class="nav btn next month" accesskey="4" title="'+I.nextTxt.replace(/<|>|\"/g,"")+" "+I.monthTxt.replace(/<|>|\"/g,"")+'" aria-label="'+I.nextTxt.replace(/<|>|\"/g,"")+" "+I.monthTxt.replace(/<|>|\"/g,"")+'" role="button" id="'+I.nextBtnId+'" tabindex="0"><span aria-hidden="true">&#8594;</span></td></tr><tr role="presentation">';var G=I.range.current.month>0?I.range.current.month-1:11,z=I.range.current.month<11?I.range.current.month+1:0;I.iter=0;for(var B=0;B<7;B++){var C=I.getWDay(I,B),F=I.range.wDays[C];if(!B){I.iter=I.iterE=(C+6)>6?-1+C:C+6;I.iterS=C}I.source+='<th scope="col" class="week" title="'+F.lng+'" role="presentation"><span>'+F.shrt+"</span></th>"}I.source+='</tr><tr role="presentation">';var A=new Date();A.setDate(1);A.setMonth(I.range.current.month);A.setFullYear(I.range.current.year);var D=A.getDay();A.setDate(I.range[I.range.current.month].max);var E=A.getDay(),u=I.iterS;while(u!=D){u=(u+1)>6?0:u+1;I.source+='<td class="empty" role="presentation"><span>&nbsp;</span></td>'}I.range.track={};var s=I.range[I.range.current.month].disabled[I.range.current.year],p=I.range[I.range.current.month].disabled["*"],x=I.range[I.range.current.month].disabledWDays,q=I.range.disabledWDays,t=I.range[I.range.current.month].comments[I.range.current.year],v=I.range[I.range.current.month].comments["*"];for(var B=1;B<=I.range[I.range.current.month].max;B++){I.range.track[I.baseId+B]=B;A.setDate(B);var r=A.getDay();var y=((s&&$A.inArray(B,s)!==-1)||(p&&$A.inArray(B,p)!==-1)||(x.length&&$A.inArray(r,x)!==-1)||(q.length&&$A.inArray(r,q)!==-1))?true:false,H="";if(t&&t[B]){H=t[B]}else{if(v&&v[B]){H=v[B]}}I.source+="<td ";if(B==I.fn.current.mDay&&I.range.current.month==I.fn.current.month&&I.range.current.year==I.fn.current.year){I.source+='aria-current="date" '}if(y){I.source+='aria-disabled="true" '}I.source+='aria-label="';if(H){I.source+=I.commentedTxt.replace(/<|>|\"/g,"")+" "}I.source+=B+", "+I.range.wDays[A.getDay()].lng+" "+I.range[I.range.current.month].name+" "+I.range.current.year;if(H){I.source+=H.replace(/<|>|\n/g," ").replace(/\"/g,'"')}I.source+='" role="link" tabindex="-1" class="day';if(y){I.source+=" disabled"}if(H){I.source+=" comment"}I.source+='" title="';if(y){I.source+=I.disabledTxt.replace(/<|>|\"/g,"")}if(H){I.source+=" "+I.commentedTxt.replace(/<|>|\"/g,"")}I.source+='" id="'+I.baseId+B+'"><span aria-hidden="true">'+B+"</span></td>";A.setDate(B);var u=A.getDay();if(u==I.iter&&B<I.range[I.range.current.month].max){I.source+='</tr><tr role="presentation">'}}while(E!=I.iter){E=(E+1)>6?0:E+1;I.source+='<td class="empty" role="presentation"><span>&nbsp;</span></td>'}I.source+="</tr></table>";$A.find("*",function(w){if(w.controlType&&w.controlType=="DatePicker"&&w.loaded){w.close()}})},click:function(q,p){q.stopPropagation()},runDuring:function(p){p.datepickerLoaded=false;$A.bind("body","click.datepicker",function(q){if(p.datepickerLoaded){p.close()}});$A.setAttr(p.accDCObj,{role:"dialog","data-helptext":p.helpText,"aria-label":p.role});p.fn.sraStart.innerHTML=p.fn.sraEnd.innerHTML="";$A.setAttr(p.fn.sraStart,{"aria-hidden":"true"});$A.setAttr(p.fn.sraEnd,{"aria-hidden":"true"})},runAfter:function(p){p.buttons={pY:$A.getEl(p.prevBtnId+"Y"),nY:$A.getEl(p.nextBtnId+"Y"),pM:$A.getEl(p.prevBtnId),nM:$A.getEl(p.nextBtnId)};if(p.disableNavPrevYearBtn){$A.setAttr(p.buttons.pY,"aria-disabled","true")}if(p.disableNavNextYearBtn){$A.setAttr(p.buttons.nY,"aria-disabled","true")}if(p.disableNavPrevMonthBtn){$A.setAttr(p.buttons.pM,"aria-disabled","true")}if(p.disableNavNextMonthBtn){$A.setAttr(p.buttons.nM,"aria-disabled","true")}if(!p.prevCurrent){p.prevCurrent={}}$A.internal.extend(true,p.prevCurrent,p.range.current);var s=function(){if($A.getAttr(p.buttons.nM,"aria-disabled")=="true"){return}$A.internal.extend(true,p.prevCurrent,p.range.current);var w=p.range.current.month==11?0:p.range.current.month+1,v=w>0?p.range.current.year:p.range.current.year+1,u=p.range.current.mDay>p.range[w].max?p.range[w].max:p.range.current.mDay;p.date=new Date(v,w,u);p.setCurrent(p);p.reopen=true;p.open()},q=function(){if($A.getAttr(p.buttons.pM,"aria-disabled")=="true"){return}$A.internal.extend(true,p.prevCurrent,p.range.current);var w=p.range.current.month<1?11:p.range.current.month-1,v=w<11?p.range.current.year:p.range.current.year-1,u=p.range.current.mDay>p.range[w].max?p.range[w].max:p.range.current.mDay;p.date=new Date(v,w,u);p.setCurrent(p);p.reopen=true;p.open()},r=function(v){if((!v&&$A.getAttr(p.buttons.pY,"aria-disabled")=="true")||(v&&$A.getAttr(p.buttons.nY,"aria-disabled")=="true")){return}$A.internal.extend(true,p.prevCurrent,p.range.current);var x=p.range.current.month,w=v?p.range.current.year+1:p.range.current.year-1;if(x===1){p.range[1].max=28}var u=p.range.current.mDay>p.range[x].max?p.range[x].max:p.range.current.mDay;p.date=new Date(w,x,u);p.setCurrent(p);p.reopen=true;p.open()};var t=false;$A.bind("#"+p.containerDivId+" td.day",{focus:function(x){if($A.hasClass(this,"comment")){var y=p.children[0],w=p.range[p.range.current.month].comments[p.range.current.year],v=p.range[p.range.current.month].comments["*"],u="";if(w&&w[p.range.current.mDay]){u=w[p.range.current.mDay]}else{if(v&&v[p.range.current.mDay]){u=v[p.range.current.mDay]}}u=a(u.replace(/<|>/g,""));if(u){y.source=u;y.open()}}else{if(p.children[0].loaded){p.children[0].close()}}if(p.children[1].openEditor){p.children[1].openEditor=false;p.children[1].reset()}},click:function(u){p.date.setDate(p.range.track[this.id]);p.setCurrent(p);if($A.hasClass(this,"selected")||(!l&&!$A.hasClass(this,"comment"))){if($A.getAttr(this,"aria-disabled")!="true"){$A.internal.extend(true,p.fn.current,p.range.current);h.apply(this,[u,p,k])}else{u.stopPropagation();u.preventDefault()}}else{p.setFocus(this)}u.preventDefault()},keydown:function(y){e(y);var v=y.which||y.keyCode;if(v==13){t=true;if($A.getAttr(this,"aria-disabled")!="true"){$A.internal.extend(true,p.fn.current,p.range.current);h.apply(this,[y,p,k])}y.preventDefault()}else{if(v==32&&l&&d.editor&&d.editor.show&&!p.children[1].openEditor){p.children[1].openEditor=true;p.children[1].reset();y.preventDefault()}else{if((v>=37&&v<=40)||v==27||(v>=33&&v<=36)){var x=p.range.current.wDay;if(v==37){$A.internal.extend(true,p.prevCurrent,p.range.current);if(p.range.current.mDay>1){p.range.current.mDay--;p.range.current.wDay=!x?6:x-1;p.setFocus(p.range.index[p.range.current.mDay-1],this)}else{if(p.range.current.mDay==1&&$A.getAttr(p.buttons.pM,"aria-disabled")!="true"){var z=p.range.current.month<1?11:p.range.current.month-1,w=z<11?p.range.current.year:p.range.current.year-1,u=p.range[z].max;if(z===1){u=(new Date(w,1,29).getMonth()==1)?29:28}p.date=new Date(w,z,u);p.setCurrent(p);p.reopen=true;p.open()}}}else{if(v==39){$A.internal.extend(true,p.prevCurrent,p.range.current);if(p.range.current.mDay<p.range[p.range.current.month].max){p.range.current.mDay++;p.range.current.wDay=x==6?0:x+1;p.setFocus(p.range.index[p.range.current.mDay-1],this)}else{if(p.range.current.mDay==p.range[p.range.current.month].max&&$A.getAttr(p.buttons.nM,"aria-disabled")!="true"){var z=p.range.current.month==11?0:p.range.current.month+1,w=z>0?p.range.current.year:p.range.current.year+1;p.date=new Date(w,z,1);p.setCurrent(p);p.reopen=true;p.open()}}}else{if(v==38){$A.internal.extend(true,p.prevCurrent,p.range.current);if((p.range.current.mDay-7)>0){p.range.current.mDay-=7;p.setFocus(p.range.index[p.range.current.mDay-1],this)}else{if($A.getAttr(p.buttons.pM,"aria-disabled")!="true"){var z=p.range.current.month<1?11:p.range.current.month-1,w=z<11?p.range.current.year:p.range.current.year-1;if(z===1&&(new Date(w,1,29).getMonth()==1)){p.range[z].max=29}else{if(z===1){p.range[z].max=28}}var u=p.range[z].max+(p.range.current.mDay-7);p.date=new Date(w,z,u);p.setCurrent(p);p.reopen=true;p.open()}}}else{if(v==40){$A.internal.extend(true,p.prevCurrent,p.range.current);if((p.range.current.mDay+7)<=p.range[p.range.current.month].max){p.range.current.mDay+=7;p.setFocus(p.range.index[p.range.current.mDay-1],this)}else{if($A.getAttr(p.buttons.nM,"aria-disabled")!="true"){var z=p.range.current.month==11?0:p.range.current.month+1,w=z>0?p.range.current.year:p.range.current.year+1,u=p.range.current.mDay+7-p.range[p.range.current.month].max;p.date=new Date(w,z,u);p.setCurrent(p);p.reopen=true;p.open()}}}else{if(v==27){p.close()}else{if(v==33){$A.internal.extend(true,p.prevCurrent,p.range.current);if(f.alt){r(true)}else{s()}}else{if(v==34){$A.internal.extend(true,p.prevCurrent,p.range.current);if(f.alt){r()}else{q()}}else{if(v==36){$A.internal.extend(true,p.prevCurrent,p.range.current);if(x!=p.iterS&&p.range.current.mDay>1){while(p.range.current.wDay!=p.iterS&&$A.getEl(p.baseId+(p.range.current.mDay-1))){p.range.current.wDay=(p.range.current.wDay-1)<0?6:p.range.current.wDay-1;p.range.current.mDay--}p.setFocus(p.range.index[p.range.current.mDay-1],this)}}else{if(v==35){$A.internal.extend(true,p.prevCurrent,p.range.current);if(x!=p.iterE&&p.range.current.mDay<p.range[p.range.current.month].max){while(p.range.current.wDay!=p.iterE&&$A.getEl(p.baseId+(p.range.current.mDay+1))){p.range.current.wDay=(p.range.current.wDay+1)>6?0:p.range.current.wDay+1;p.range.current.mDay++}p.setFocus(p.range.index[p.range.current.mDay-1],this)}}}}}}}}}}y.preventDefault()}else{if(v==9&&!f.alt&&!f.ctrl&&!f.shift){$A.internal.extend(true,p.prevCurrent,p.range.current);if($A.getAttr(p.buttons.pY,"aria-disabled")!="true"){p.buttons.pY.focus()}else{if($A.getAttr(p.buttons.nY,"aria-disabled")!="true"){p.buttons.nY.focus()}else{if($A.getAttr(p.buttons.pM,"aria-disabled")!="true"){p.buttons.pM.focus()}else{if($A.getAttr(p.buttons.nM,"aria-disabled")!="true"){p.buttons.nM.focus()}}}}y.preventDefault()}else{if(v==9&&!f.alt&&!f.ctrl&&f.shift){$A.internal.extend(true,p.prevCurrent,p.range.current);if($A.getAttr(p.buttons.nM,"aria-disabled")!="true"){p.buttons.nM.focus()}else{if($A.getAttr(p.buttons.pM,"aria-disabled")!="true"){p.buttons.pM.focus()}else{if($A.getAttr(p.buttons.nY,"aria-disabled")!="true"){p.buttons.nY.focus()}else{if($A.getAttr(p.buttons.pY,"aria-disabled")!="true"){p.buttons.pY.focus()}}}}y.preventDefault()}}}}}},keyup:function(v){e(v);var u=v.which||v.keyCode;if(u==13&&!t){if($A.getAttr(this,"aria-disabled")!="true"){$A.internal.extend(true,p.fn.current,p.range.current);if(!p.setFocus.firstOpen){h.apply(this,[v,p,k])}}v.preventDefault()}t=p.setFocus.firstOpen=false}});$A.bind(p.buttons.pM,{click:function(u){p.navBtn="PM";q();u.preventDefault()},keydown:function(v){e(v);var u=v.which||v.keyCode;if(u==13||u==32){p.navBtn="PM";q();v.preventDefault()}else{if(u==27){p.close();v.preventDefault()}else{if(u==38){p.buttons.pY.focus();v.preventDefault()}else{if(u==39){p.buttons.nM.focus();v.preventDefault()}else{if(u==37||u==40){v.preventDefault()}else{if(u==9&&!f.alt&&!f.ctrl&&!f.shift){if($A.getAttr(p.buttons.nM,"aria-disabled")!="true"){p.buttons.nM.focus()}else{$A.query('td.day[tabindex="0"]',p.containerDiv)[0].focus()}v.preventDefault()}else{if(u==9&&!f.alt&&!f.ctrl&&f.shift){if($A.getAttr(p.buttons.nY,"aria-disabled")!="true"){p.buttons.nY.focus()}else{if($A.getAttr(p.buttons.pY,"aria-disabled")!="true"){p.buttons.pY.focus()}else{$A.query('td.day[tabindex="0"]',p.containerDiv)[0].focus()}}v.preventDefault()}}}}}}}},keyup:function(u){e(u)}});$A.bind(p.buttons.nM,{click:function(u){p.navBtn="NM";s();u.preventDefault()},keydown:function(v){e(v);var u=v.which||v.keyCode;if(u==13||u==32){p.navBtn="NM";s();v.preventDefault()}else{if(u==27){p.close();v.preventDefault()}else{if(u==38){p.buttons.nY.focus();v.preventDefault()}else{if(u==37){p.buttons.pM.focus();v.preventDefault()}else{if(u==39||u==40){v.preventDefault()}else{if(u==9&&!f.alt&&!f.ctrl&&!f.shift){$A.query('td.day[tabindex="0"]',p.containerDiv)[0].focus();v.preventDefault()}else{if(u==9&&!f.alt&&!f.ctrl&&f.shift){if($A.getAttr(p.buttons.pM,"aria-disabled")!="true"){p.buttons.pM.focus()}else{if($A.getAttr(p.buttons.nY,"aria-disabled")!="true"){p.buttons.nY.focus()}else{if($A.getAttr(p.buttons.pY,"aria-disabled")!="true"){p.buttons.pY.focus()}else{$A.query('td.day[tabindex="0"]',p.containerDiv)[0].focus()}}}v.preventDefault()}}}}}}}},keyup:function(u){e(u)}});$A.bind(p.buttons.pY,{click:function(u){p.navBtn="PY";r();u.preventDefault()},keydown:function(v){e(v);var u=v.which||v.keyCode;if(u==13||u==32){p.navBtn="PY";r();v.preventDefault()}else{if(u==27){p.close();v.preventDefault()}else{if(u==39){p.buttons.nY.focus();v.preventDefault()}else{if(u==40){p.buttons.pM.focus();v.preventDefault()}else{if(u==37||u==38){v.preventDefault()}else{if(u==9&&!f.alt&&!f.ctrl&&!f.shift){if($A.getAttr(p.buttons.nY,"aria-disabled")!="true"){p.buttons.nY.focus()}else{if($A.getAttr(p.buttons.pM,"aria-disabled")!="true"){p.buttons.pM.focus()}else{if($A.getAttr(p.buttons.nM,"aria-disabled")!="true"){p.buttons.nM.focus()}else{$A.query('td.day[tabindex="0"]',p.containerDiv)[0].focus()}}}v.preventDefault()}else{if(u==9&&!f.alt&&!f.ctrl&&f.shift){$A.query('td.day[tabindex="0"]',p.containerDiv)[0].focus();v.preventDefault()}}}}}}}},keyup:function(u){e(u)}});$A.bind(p.buttons.nY,{click:function(u){p.navBtn="NY";r(true);u.preventDefault()},keydown:function(v){e(v);var u=v.which||v.keyCode;if(u==13||u==32){p.navBtn="NY";r(true);v.preventDefault()}else{if(u==27){p.close();v.preventDefault()}else{if(u==37){p.buttons.pY.focus();v.preventDefault()}else{if(u==40){p.buttons.nM.focus();v.preventDefault()}else{if(u==38||u==39){v.preventDefault()}else{if(u==9&&!f.alt&&!f.ctrl&&!f.shift){if($A.getAttr(p.buttons.pM,"aria-disabled")!="true"){p.buttons.pM.focus()}else{if($A.getAttr(p.buttons.nM,"aria-disabled")!="true"){p.buttons.nM.focus()}else{$A.query('td.day[tabindex="0"]',p.containerDiv)[0].focus()}}v.preventDefault()}else{if(u==9&&!f.alt&&!f.ctrl&&f.shift){if($A.getAttr(p.buttons.pY,"aria-disabled")!="true"){p.buttons.pY.focus()}else{$A.query('td.day[tabindex="0"]',p.containerDiv)[0].focus()}v.preventDefault()}}}}}}}},keyup:function(u){e(u)}});p.range.index=$A.query("td.day",p.containerDiv);p.setFocus.firstOpen=true;p.setFocus(p.range.index[p.range.current.mDay-1]);if(l&&d.editor&&d.editor.show){p.children[1].open()}$A.bind(window,"resize.datepicker",function(u){p.setPosition()});$A.setAttr(p.triggerObj,"aria-expanded","true");setTimeout(function(){p.datepickerLoaded=true},750);if(!p.navBtnS){if(!("ontouchstart" in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)){$A.announce(p.helpText)}}p.navBtnS=false},helpText:m,tabOut:function(q,p){},runAfterClose:function(p){if(!p.reopen){if(d.resetCurrent){p.date=new Date();p.setCurrent(p);$A.internal.extend(true,p.fn.current,p.range.current)}if(l){p.children[0].close()}if(l&&d.editor&&d.editor.show){p.children[1].lock=false;p.children[1].close()}}else{p.reopen=false}if(d.ajax&&typeof d.ajax==="function"){p.lock=p.ajaxLoading=false}$A.unbind(window,".datepicker");$A.unbind("body",".datepicker");$A.setAttr(p.triggerObj,"aria-expanded","false")}}]);$A.setAttr(c,"aria-expanded","false");var b=$A.reg[i],g=false,j=function(){g=false};$A.bind(c,"click",function(p){if(!g&&!b.loaded){g=true;$A.trigger(this,"opendatepicker");setTimeout(j,1000)}else{if(!g&&b.loaded){g=true;b.close();setTimeout(j,1000)}}p.preventDefault()});$A($A.reg[i],[{id:i+"commentTooltip",role:d.comments&&d.comments.role||"Comment",returnFocus:false,showHiddenClose:false,allowReopen:true,autoPosition:isNaN(d.comments&&d.comments.autoPosition)?1:d.comments.autoPosition,offsetTop:isNaN(d.comments&&d.comments.offsetTop)?0:d.comments.offsetTop,offsetLeft:isNaN(d.comments&&d.comments.offsetLeft)?0:d.comments.offsetLeft,cssObj:{position:"absolute",zIndex:$A.reg[i].cssObj.zIndex},className:d.comments&&d.comments.className||"commentTooltip",runBefore:function(p){p.triggerObj=p.parent.accDCObj}}]);$A($A.reg[i],[{id:i+"commentAdd",role:d.editor&&d.editor.role||"Edit",returnFocus:false,allowReopen:true,autoPosition:isNaN(d.editor&&d.editor.autoPosition)?6:d.editor.autoPosition,offsetTop:isNaN(d.editor&&d.editor.offsetTop)?0:d.editor.offsetTop,offsetLeft:isNaN(d.editor&&d.editor.offsetLeft)?0:d.editor.offsetLeft,cssObj:{position:"absolute",zIndex:$A.reg[i].cssObj.zIndex},className:d.editor&&d.editor.className||"commentAdd",openEditor:false,source:'<textarea style="visibility: hidden; display: none;" class="commentTa" title="'+$A.reg[i+"commentTooltip"].role+'"></textarea><button title="'+(d.editor&&d.editor.role||"Edit")+" "+$A.reg[i+"commentTooltip"].role+'" class="commentBtn">'+(d.editor&&d.editor.role||"Edit")+"</button>",runBefore:function(p){p.triggerObj=p.parent.accDCObj},click:function(q,p){q.stopPropagation()},runDuring:function(p){$A.setAttr(p.accDCObj,{role:"dialog","aria-label":p.role});$A.setAttr(p.containerDiv,"role","application");p.fn.sraStart.innerHTML=p.fn.sraEnd.innerHTML="";$A.setAttr(p.fn.sraStart,{"aria-hidden":"true"});$A.setAttr(p.fn.sraEnd,{"aria-hidden":"true"})},add:function(p){var q=a(p.textarea.value.replace(/<|>|\n/g," "));if(!p.comments[p.parent.range.current.year]){p.comments[p.parent.range.current.year]={}}p.comments[p.parent.range.current.year][p.parent.range.current.mDay]=q;var r=p.parent.range.current.mDay+", "+p.parent.range.wDays[p.parent.range.current.wDay].lng+" "+p.parent.range[p.parent.range.current.month].name+" "+p.parent.range.current.year,s="";if((p.parent.range[p.parent.range.current.month].disabled[p.parent.range.current.year]&&$A.inArray(p.parent.range.current.mDay,p.parent.range[p.parent.range.current.month].disabled[p.parent.range.current.year])!==-1)||(p.parent.range[p.parent.range.current.month].disabled["*"]&&$A.inArray(p.parent.range.current.mDay,p.parent.range[p.parent.range.current.month].disabled["*"])!==-1)){s+=p.parent.disabledTxt.replace(/<|>|\"/g,"")+" "}if(!q){$A.remClass(p.parent.current,"comment")}else{$A.addClass(p.parent.current,"comment");s+=p.parent.commentedTxt.replace(/<|>|\"/g,"")+" "}r=s+r;$A.setAttr(p.parent.current,{title:a(s),"aria-label":r+" "+q.replace(/\"/g,'"')})},reset:function(){var p=this;if(p.openEditor){p.comments=p.parent.range[p.parent.range.current.month].comments;if(!p.textarea){p.textarea=$A.query("textarea",p.containerDiv,function(){$A.css(this,{visibility:"",display:""});p.css("left",p.parent.accDCObj.offsetLeft);$A.bind(this,{focus:function(q){if(p.parent.children[0].loaded){p.parent.children[0].close()}},keydown:function(r){var q=r.which||r.keyCode;if(this.value.length>800){this.value=this.value.substring(0,799)}if(q==13){p.add.apply(this,[p]);p.parent.current.focus();p.openEditor=false;p.reset();r.preventDefault()}else{if(q==27){p.parent.current.focus();p.openEditor=false;p.reset();r.preventDefault()}}}})})[0]}else{$A.css(p.textarea,{visibility:"",display:""});p.css("left",p.parent.accDCObj.offsetLeft)}$A.setAttr(p.textarea,{title:p.parent.range.current.mDay+", "+p.parent.range.wDays[p.parent.range.current.wDay].lng+" "+p.parent.range[p.parent.range.current.month].name+" "+p.parent.range.current.year}).focus();if(p.comments[p.parent.range.current.year]&&p.comments[p.parent.range.current.year][p.parent.range.current.mDay]){p.textarea.value=p.comments[p.parent.range.current.year][p.parent.range.current.mDay]}$A.setAttr(p.commentBtn,{title:(d.editor&&d.editor.action1||"Save")+" "+$A.reg[i+"commentTooltip"].role}).innerHTML=d.editor&&d.editor.action1||"Save"}else{if(p.textarea){p.textarea.value="";$A.css(p.textarea,{visibility:"hidden",display:"none"})}p.css("left",p.parent.accDCObj.offsetLeft+p.parent.accDCObj.offsetWidth-p.accDCObj.offsetWidth);$A.setAttr(p.commentBtn,{title:(d.editor&&d.editor.role||"Edit")+" "+$A.reg[i+"commentTooltip"].role}).innerHTML=d.editor&&d.editor.role||"Edit"}},runAfter:function(p){$A.query("button",p.containerDiv,function(){p.commentBtn=this;$A.bind(this,{focus:function(q){if(p.parent.children[0].loaded){p.parent.children[0].close()}},click:function(q){if(p.openEditor){p.add.apply(this,[p]);p.parent.current.focus();p.openEditor=false;p.reset()}else{p.openEditor=true;p.reset()}q.preventDefault()},keydown:function(r){var q=r.which||r.keyCode;if(q==27){if(p.openEditor){p.parent.current.focus();p.openEditor=false;p.reset()}else{p.parent.close()}r.preventDefault()}}})});p.reset();p.lock=true;$A.bind(window,"resize.dateeditor",function(q){p.setPosition();p.reset()})},tabOut:function(q,p){p.parent.close()},runBeforeClose:function(p){p.openEditor=false;p.textarea=null;$A.unbind(window,"resize.dateeditor");if(d.ajax&&typeof d.ajax==="function"){d.ajax.apply(p.parent,[p.parent,true])}p.parent.setFocus.firstOpen=true},lock:l&&d.editor&&d.editor.show?false:true}])};var a=function(b){return b.replace(/^\s+|\s+$/g,"")}})();