/*
Accordion Generator Module R2.11
Copyright 2010-2018 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
(function(){$A.generateAccordion=function(c,h,f,i,e){var g=[],d=[],f=f||document,b=$A.query(c,f,function(k,n){var r=$A.getAttr(n,"role")=="button"||n.nodeName.toLowerCase()=="button"?true:false,l=$A.getAttr(n,"role")=="link"||(n.nodeName.toLowerCase()=="a"&&$A.getAttr(n,"href"))?true:false;if(!r&&!l){$A.setAttr(n,"role","button");r=true}if(!e&&(r||l)){e=true}if($A.reg[n.id]){var q=$A.reg[n.id];if(q.fn.sraCSSObj){q.fn.sraCSSObj.parentNode.removeChild(q.fn.sraCSSObj)}q.returnFocus=false;q.close();q.returnFocus=true}var p=n.id||$A.genId(),j={},m=$A.getAttr(n,"data-internal");j.id=p;j.role=$A.getAttr(n,"data-role")||"Accordion";j.autoStart=$A.getAttr(n,"data-defaultopen")?true:false;j.trigger=n;j.mode=typeof h.mode==="number"?h.mode:(h.preload?0:1);j.source=m?(function(){var o=$A.getEl(m);if(o){return o.parentNode.removeChild(o)}else{return $A.reg[n.id]&&$A.reg[n.id].source}})():(function(){var t=$A.createEl("div"),o=$A.getAttr(n,"data-src");o=o.replace("#"," #");if(h.preload){$A.load(t,o,function(){if(h.preloadImages){if(!$A.getEl(a)){document.body.appendChild($A.createEl("div",{id:a},$A.sraCSS))}h.imgLoader=$A.getEl(a);$A.query("img",t,function(s,u){if(u.src&&$A.query('img[src="'+u.src+'"]',h.imgLoader).length<1){h.imgLoader.appendChild($A.createEl("img",{src:u.src,alt:""}))}})}});return t}else{return o}})();j.isStatic="#"+$A.getAttr(n,"data-insert");j.showHiddenBounds=h.showHiddenBounds||false;j.bind="click";j.isTab=true;j.tabRole=e?"":(h.accordionRole||"Accordion");j.tabState=e?"":(h.accordionState||"Expanded");j.toggleClass=h.toggleClass||"open";j.isToggle=typeof h.isToggle==="boolean"?h.isToggle:true;j.allowCascade=true;j.runDuring=function(o){$A.setAttr(o.accDCObj,{role:"region","aria-labelledby":$A.getAttr(o.triggerObj,"id")});$A.setAttr(o.triggerObj,"aria-controls",o.accDCObjId)};j.runAfter=function(o){$A.addClass(o.triggerObj,o.toggleClass);if(e){$A.setAttr(o.triggerObj,r?{"aria-expanded":"true"}:(l?{"aria-expanded":"true"}:{}))}if(i&&typeof i==="function"){i.apply(o.triggerObj,[o])}};j.runAfterClose=function(o){$A.remClass(o.triggerObj,o.toggleClass);if(e){$A.setAttr(o.triggerObj,r?{"aria-expanded":"false"}:(l?{"aria-expanded":"false"}:{}))}if(i&&typeof i==="function"){i.apply(o.triggerObj,[o])}};$A.setAttr(n,{tabindex:"0"});$A.unbind(n,"keydown");$A.bind(n,"keydown",function(s){var o=s.which||s.keyCode;if(o==13||o==32){$A.trigger(n,"click");s.stopPropagation();s.preventDefault()}});if(e){$A.setAttr(n,r?{"aria-expanded":"false"}:(l?{"aria-expanded":"false"}:{}))}if($A.inArray(p,g)===-1){d.push(j);g.push(p)}});$A(d,h);return g};var a="i"+$A.genId()})();