/*!
ARIA Tree From XML Module R2.5
Copyright 2010-2016 Bryan Garaventa (WhatSock.com)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
	*/
!function(){$A.setTree=function(a){function s(e){e.tree={node:$A.createEl(d),childNodes:[],ids:[]};for(var t=0;t<e.xmlNodes.length;t++){var r=e.xmlNodes[t];if(1===r.nodeType&&"#text"!=r.nodeName){var i=$A.createEl(n,{role:"presentation"}),a=$A.createEl(o);"a"==a.nodeName.toLowerCase()&&$A.setAttr(a,"href","#"),$A.setAttr(a,"id",r.attributes.getNamedItem("id").value),e.tree.ids.push(a.id);for(var s=!1,l=0;l<r.childNodes.length;l++)1===r.childNodes[l].nodeType&&"#text"!=r.childNodes[l].nodeName&&(s=!0);s?$A.addClass(a,g):$A.addClass(a,$),a.innerHTML="<span>"+r.attributes.getNamedItem("name").value+"</span>",$A.setAttr(a,"aria-label",$A.getText(a)),i.appendChild(a),e.tree.node.appendChild(i),e.tree.childNodes.push(a)}}e.tree.ids.length&&$A.setAttr(e.tree.node,"aria-owns",e.tree.ids.join(" "))}var l=(a=a||{}).title,e=a.container,d=a.treeTag||"ul",g=a.treeClass||"branch",n=a.dividerTag||"li",o=a.treeItemTag||"a",$=a.treeItemClass||"leaf",A=a.selectClass||"selected",c=xmlDoc=null,h=function(t){!function(h,e){e=e||"folder";var t=h.tree.node,f=h.tree.childNodes;if(1===h.ariaLevel)$A.setAttr(t,{role:"tree","aria-label":l});else{var r="aria"+$A.genId();$A.setAttr(t,{role:"group",id:r}),$A.setAttr(c,"aria-owns",r)}for(var i=0;i<f.length;i++){var a=f[i];$A.setAttr(a,{role:"treeitem","aria-setsize":f.length,"aria-posinset":i+1,"aria-level":h.ariaLevel}),i||1!==h.ariaLevel?$A.setAttr(a,{tabindex:"-1","aria-selected":"false"}):$A.setAttr(a,{tabindex:"0","aria-selected":"true"}),$A.hasClass(a,e)&&$A.setAttr(a,"aria-expanded","false"),$A.bind(a,{focustreeitem:function(e){$A.query("."+A,h.top.accDCObj,function(e,t){$A.setAttr(t,{"aria-selected":"false",tabindex:"-1"}),$A.remClass(t,A)}),c&&(h.triggerObj=c),c=this,$A.addClass(c,A),$A.setAttr(c,{tabindex:"0","aria-selected":"true"}).focus()},clicktreeitem:function(e){$A.hasClass(this,A)?$A.hasClass(this,g)&&"false"==$A.getAttr(this,"aria-expanded")?($A.setAttr(this,"aria-expanded","true"),$A.reg[this.id].open()):$A.hasClass(this,g)&&"true"==$A.getAttr(this,"aria-expanded")&&($A.setAttr(this,"aria-expanded","false"),$A.reg[this.id].close()):$A.trigger(this,"focustreeitem"),e.preventDefault()},focus:function(e){$A.hasClass(this,A)||$A.trigger(this,"focustreeitem")},click:function(e){e.preventDefault(),$A.trigger(this,"clicktreeitem")},keydown:function(e){var t=e.which||e.keyCode;if(13==t||32==t)$A.trigger(this,"click"),e.stopPropagation(),e.preventDefault();else if(35<=t&&t<=40){if(35==t){for(var r=h;r.parent;)r=r.parent;for(var i=r.tree.childNodes;$A.hasClass(i[i.length-1],g)&&"true"==$A.getAttr(i[i.length-1],"aria-expanded");)i=$A.reg[i[i.length-1].id].tree.childNodes;i[i.length-1]!=this&&$A.trigger(i[i.length-1],"focustreeitem")}else if(36==t){for(r=h;r.parent;)r=r.parent;$A.trigger(r.tree.childNodes[0],"focustreeitem")}else if(37==t)if(h.parent&&($A.hasClass(this,g)&&"false"==$A.getAttr(this,"aria-expanded")||$A.hasClass(this,$))){i=h.parent.tree.childNodes;for(var a=null,s=0;s<i.length;s++)if(i[s].id==h.id){a=i[s];break}a&&$A.trigger(a,"focustreeitem")}else $A.hasClass(this,g)&&"true"==$A.getAttr(this,"aria-expanded")&&($A.setAttr(this,"aria-expanded","false"),$A.reg[this.id].close());else if(39==t)if($A.hasClass(this,g)&&"true"==$A.getAttr(this,"aria-expanded")){var l=$A.reg[this.id].tree.childNodes[0];$A.trigger(l,"focustreeitem")}else $A.trigger(this,"clicktreeitem");else if(38==t){if(h.parent&&this==f[0]){for(i=h.parent.tree.childNodes,a=null,s=0;s<i.length;s++)if(i[s].id==h.id){a=i[s];break}a&&$A.trigger(a,"focustreeitem")}else if(this!=f[0]){for(var d=$A.inArray(this,f),n=f[d-1];$A.hasClass(n,g)&&"true"==$A.getAttr(n,"aria-expanded");){n=(i=$A.reg[n.id].tree.childNodes)[i.length-1]}n&&$A.trigger(n,"focustreeitem")}}else if(40==t){if($A.hasClass(this,g)&&"true"==$A.getAttr(this,"aria-expanded"))(a=$A.reg[this.id].tree.childNodes[0])&&$A.trigger(a,"focustreeitem");else if((d=$A.inArray(this,f))<f.length-1)$A.trigger(f[d+1],"focustreeitem");else{var o=h.id;for(r=h.parent,a=null;r;){i=r.tree.childNodes;for(var A=0;A<i.length;A++)if(i[A].id==o&&A<i.length-1){a=i[A+1];break}if(a){$A.trigger(a,"focustreeitem");break}o=r.id,r=r.parent}}}e.stopPropagation(),e.preventDefault()}else if(48<=t&&t<=57||65<=t&&t<=90){var c=$A.inArray(this,h.tree.childNodes);!function(e){if(-1!==c){for(var t=c+1;t<=h.tree.childNodes.length;t++)if(e.toLowerCase()==$A.getText(h.tree.childNodes[t]).replace(/^\s+|\s+$/g,"").substring(0,1).toLowerCase())return $A.trigger(h.tree.childNodes[t],"focustreeitem");for(t=0;t<c;t++)if(e.toLowerCase()==$A.getText(h.tree.childNodes[t]).replace(/^\s+|\s+$/g,"").substring(0,1).toLowerCase())return $A.trigger(h.tree.childNodes[t],"focustreeitem")}}(String.fromCharCode(t)),e.stopPropagation(),e.preventDefault()}}})}}(t,g);for(var e=[],r=0;r<t.tree.childNodes.length;r++){var i=t.tree.childNodes[r];$A.hasClass(i,g)&&e.push({id:i.id,role:$A.getText(i),isStatic:i.parentNode,append:!0,runBefore:function(e){e.xmlNodes=$A.query("*[id="+e.id+"] > *",xmlDoc),s(e),e.source=e.tree.node},runAfter:h,ariaLevel:t.ariaLevel+1})}a.bind&&a.callback&&"function"==typeof a.callback&&$A.bind(t.tree.childNodes,a.bind,function(e){a.callback.apply(this,[e,t])}),$A(t,e,f)},f={showHiddenBounds:!1,allowMultiple:!0,allowCascade:!0,className:a.topClass||"TreeView"},t=a.id||$A.genId();return a.overrides&&$A.internal.extend(f,a.overrides),$A([{id:t,role:"TreeView",autoStart:!0,isStatic:e,allowReopen:!0,mode:6,ajaxOptions:{url:a.path,dataType:"text"},hSuccess:function(e,t,r,i,a){xmlDoc=a.xmlDocument=u(t),a.xmlTop=xmlDoc.documentElement,a.xmlNodes=$A.query(a.xmlTop.nodeName+" > *",xmlDoc),s(a),a.content=a.tree.node},runAfter:h,runOnceAfter:function(e){e.triggerObj=e.tree.childNodes[0]},ariaLevel:1}],f,!0),t};var u=function(e){var t;(e=e||"",window.DOMParser)?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e));return t}}();